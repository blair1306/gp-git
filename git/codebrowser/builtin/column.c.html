<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>column.c source code [codebrowser/builtin/column.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/builtin/column.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>builtin</a>/<a href='column.c.html'>column.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><u>#include <a href="../builtin.h.html">"builtin.h"</a></u></td></tr>
<tr><th id="2">2</th><td><u>#include <a href="../cache.h.html">"cache.h"</a></u></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="../config.h.html">"config.h"</a></u></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="../strbuf.h.html">"strbuf.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../parse-options.h.html">"parse-options.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="../string-list.h.html">"string-list.h"</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="../column.h.html">"column.h"</a></u></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><em>static</em> <em>const</em> <em>char</em> * <em>const</em> <dfn class="tu decl def" id="builtin_column_usage" title='builtin_column_usage' data-type='const char *const [2]' data-ref="builtin_column_usage">builtin_column_usage</dfn>[] = {</td></tr>
<tr><th id="10">10</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;git column [&lt;options&gt;]&quot;)" data-ref="_M/N_">N_</a>(<q>"git column [&lt;options&gt;]"</q>),</td></tr>
<tr><th id="11">11</th><td>	<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span></td></tr>
<tr><th id="12">12</th><td>};</td></tr>
<tr><th id="13">13</th><td><em>static</em> <em>unsigned</em> <em>int</em> <dfn class="tu decl def" id="colopts" title='colopts' data-type='unsigned int' data-ref="colopts">colopts</dfn>;</td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="column_config" title='column_config' data-type='int column_config(const char * var, const char * value, void * cb)' data-ref="column_config">column_config</dfn>(<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="1var" title='var' data-type='const char *' data-ref="1var">var</dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="2value" title='value' data-type='const char *' data-ref="2value">value</dfn>, <em>void</em> *<dfn class="local col3 decl" id="3cb" title='cb' data-type='void *' data-ref="3cb">cb</dfn>)</td></tr>
<tr><th id="16">16</th><td>{</td></tr>
<tr><th id="17">17</th><td>	<b>return</b> <a class="ref" href="../column.h.html#git_column_config" title='git_column_config' data-ref="git_column_config">git_column_config</a>(<a class="local col1 ref" href="#1var" title='var' data-ref="1var">var</a>, <a class="local col2 ref" href="#2value" title='value' data-ref="2value">value</a>, <a class="local col3 ref" href="#3cb" title='cb' data-ref="3cb">cb</a>, &amp;<a class="tu ref" href="#colopts" title='colopts' data-use='a' data-ref="colopts">colopts</a>);</td></tr>
<tr><th id="18">18</th><td>}</td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><em>int</em> <dfn class="decl def" id="cmd_column" title='cmd_column' data-ref="cmd_column">cmd_column</dfn>(<em>int</em> <dfn class="local col4 decl" id="4argc" title='argc' data-type='int' data-ref="4argc">argc</dfn>, <em>const</em> <em>char</em> **<dfn class="local col5 decl" id="5argv" title='argv' data-type='const char **' data-ref="5argv">argv</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="6prefix" title='prefix' data-type='const char *' data-ref="6prefix">prefix</dfn>)</td></tr>
<tr><th id="21">21</th><td>{</td></tr>
<tr><th id="22">22</th><td>	<b>struct</b> <a class="type" href="../string-list.h.html#string_list" title='string_list' data-ref="string_list">string_list</a> <dfn class="local col7 decl" id="7list" title='list' data-type='struct string_list' data-ref="7list">list</dfn> = <a class="macro" href="../string-list.h.html#19" title="{ ((void*)0), 0, 0, 1, ((void*)0) }" data-ref="_M/STRING_LIST_INIT_DUP">STRING_LIST_INIT_DUP</a>;</td></tr>
<tr><th id="23">23</th><td>	<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col8 decl" id="8sb" title='sb' data-type='struct strbuf' data-ref="8sb">sb</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="24">24</th><td>	<b>struct</b> <a class="type" href="../column.h.html#column_options" title='column_options' data-ref="column_options">column_options</a> <dfn class="local col9 decl" id="9copts" title='copts' data-type='struct column_options' data-ref="9copts">copts</dfn>;</td></tr>
<tr><th id="25">25</th><td>	<em>const</em> <em>char</em> *<dfn class="local col0 decl" id="10command" title='command' data-type='const char *' data-ref="10command">command</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>, *<dfn class="local col1 decl" id="11real_command" title='real_command' data-type='const char *' data-ref="11real_command">real_command</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="26">26</th><td>	<b>struct</b> <a class="type" href="../parse-options.h.html#option" title='option' data-ref="option">option</a> <dfn class="local col2 decl" id="12options" title='options' data-type='struct option [8]' data-ref="12options">options</dfn>[] = {</td></tr>
<tr><th id="27">27</th><td>		<a class="macro" href="../parse-options.h.html#135" title="{ OPTION_STRING, (0), (&quot;command&quot;), (&amp;real_command), ((&quot;name&quot;)), ((&quot;lookup config vars&quot;)) }" data-ref="_M/OPT_STRING">OPT_STRING</a>(<var>0</var>, <q>"command"</q>, &amp;<a class="local col1 ref" href="#11real_command" title='real_command' data-ref="11real_command">real_command</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;name&quot;)" data-ref="_M/N_">N_</a>(<q>"name"</q>), <a class="macro" href="../gettext.h.html#89" title="(&quot;lookup config vars&quot;)" data-ref="_M/N_">N_</a>(<q>"lookup config vars"</q>)),</td></tr>
<tr><th id="28">28</th><td>		<a class="macro" href="../parse-options.h.html#250" title="{ OPTION_CALLBACK, (0), (&quot;mode&quot;), (&amp;colopts), (&quot;style&quot;), ((&quot;layout to use&quot;)), PARSE_OPT_OPTARG, parseopt_column_callback }" data-ref="_M/OPT_COLUMN">OPT_COLUMN</a>(<var>0</var>, <q>"mode"</q>, &amp;<a class="tu ref" href="#colopts" title='colopts' data-use='a' data-ref="colopts">colopts</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;layout to use&quot;)" data-ref="_M/N_">N_</a>(<q>"layout to use"</q>)),</td></tr>
<tr><th id="29">29</th><td>		<a class="macro" href="../parse-options.h.html#132" title="{ OPTION_INTEGER, (0), (&quot;raw-mode&quot;), (&amp;colopts), (&quot;n&quot;), ((&quot;layout to use&quot;)) }" data-ref="_M/OPT_INTEGER">OPT_INTEGER</a>(<var>0</var>, <q>"raw-mode"</q>, &amp;<a class="tu ref" href="#colopts" title='colopts' data-use='a' data-ref="colopts">colopts</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;layout to use&quot;)" data-ref="_M/N_">N_</a>(<q>"layout to use"</q>)),</td></tr>
<tr><th id="30">30</th><td>		<a class="macro" href="../parse-options.h.html#132" title="{ OPTION_INTEGER, (0), (&quot;width&quot;), (&amp;copts.width), (&quot;n&quot;), ((&quot;Maximum width&quot;)) }" data-ref="_M/OPT_INTEGER">OPT_INTEGER</a>(<var>0</var>, <q>"width"</q>, &amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::width" title='column_options::width' data-ref="column_options::width">width</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;Maximum width&quot;)" data-ref="_M/N_">N_</a>(<q>"Maximum width"</q>)),</td></tr>
<tr><th id="31">31</th><td>		<a class="macro" href="../parse-options.h.html#135" title="{ OPTION_STRING, (0), (&quot;indent&quot;), (&amp;copts.indent), ((&quot;string&quot;)), ((&quot;Padding space on left border&quot;)) }" data-ref="_M/OPT_STRING">OPT_STRING</a>(<var>0</var>, <q>"indent"</q>, &amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::indent" title='column_options::indent' data-ref="column_options::indent">indent</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;string&quot;)" data-ref="_M/N_">N_</a>(<q>"string"</q>), <a class="macro" href="../gettext.h.html#89" title="(&quot;Padding space on left border&quot;)" data-ref="_M/N_">N_</a>(<q>"Padding space on left border"</q>)),</td></tr>
<tr><th id="32">32</th><td>		<a class="macro" href="../parse-options.h.html#132" title="{ OPTION_INTEGER, (0), (&quot;nl&quot;), (&amp;copts.nl), (&quot;n&quot;), ((&quot;Padding space on right border&quot;)) }" data-ref="_M/OPT_INTEGER">OPT_INTEGER</a>(<var>0</var>, <q>"nl"</q>, &amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::nl" title='column_options::nl' data-ref="column_options::nl">nl</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;Padding space on right border&quot;)" data-ref="_M/N_">N_</a>(<q>"Padding space on right border"</q>)),</td></tr>
<tr><th id="33">33</th><td>		<a class="macro" href="../parse-options.h.html#132" title="{ OPTION_INTEGER, (0), (&quot;padding&quot;), (&amp;copts.padding), (&quot;n&quot;), ((&quot;Padding space between columns&quot;)) }" data-ref="_M/OPT_INTEGER">OPT_INTEGER</a>(<var>0</var>, <q>"padding"</q>, &amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::padding" title='column_options::padding' data-ref="column_options::padding">padding</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;Padding space between columns&quot;)" data-ref="_M/N_">N_</a>(<q>"Padding space between columns"</q>)),</td></tr>
<tr><th id="34">34</th><td>		<a class="macro" href="../parse-options.h.html#115" title="{ OPTION_END }" data-ref="_M/OPT_END">OPT_END</a>()</td></tr>
<tr><th id="35">35</th><td>	};</td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td>	<i>/* This one is special and must be the first one */</i></td></tr>
<tr><th id="38">38</th><td>	<b>if</b> (<a class="local col4 ref" href="#4argc" title='argc' data-ref="4argc">argc</a> &gt; <var>1</var> &amp;&amp; <a class="ref" href="../git-compat-util.h.html#starts_with" title='starts_with' data-ref="starts_with">starts_with</a>(<a class="local col5 ref" href="#5argv" title='argv' data-ref="5argv">argv</a>[<var>1</var>], <q>"--command="</q>)) {</td></tr>
<tr><th id="39">39</th><td>		<a class="local col0 ref" href="#10command" title='command' data-ref="10command">command</a> = <a class="local col5 ref" href="#5argv" title='argv' data-ref="5argv">argv</a>[<var>1</var>] + <var>10</var>;</td></tr>
<tr><th id="40">40</th><td>		<a class="ref" href="../config.h.html#git_config" title='git_config' data-ref="git_config">git_config</a>(<a class="tu ref" href="#column_config" title='column_config' data-use='r' data-ref="column_config">column_config</a>, (<em>void</em> *)<a class="local col0 ref" href="#10command" title='command' data-ref="10command">command</a>);</td></tr>
<tr><th id="41">41</th><td>	} <b>else</b></td></tr>
<tr><th id="42">42</th><td>		<a class="ref" href="../config.h.html#git_config" title='git_config' data-ref="git_config">git_config</a>(<a class="tu ref" href="#column_config" title='column_config' data-use='r' data-ref="column_config">column_config</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td>	<a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>, <var>0</var>, <b>sizeof</b>(<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>));</td></tr>
<tr><th id="45">45</th><td>	<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::width" title='column_options::width' data-ref="column_options::width">width</a> = <a class="ref" href="../cache.h.html#term_columns" title='term_columns' data-ref="term_columns">term_columns</a>();</td></tr>
<tr><th id="46">46</th><td>	<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>.<a class="ref" href="../column.h.html#column_options::padding" title='column_options::padding' data-ref="column_options::padding">padding</a> = <var>1</var>;</td></tr>
<tr><th id="47">47</th><td>	<a class="local col4 ref" href="#4argc" title='argc' data-ref="4argc">argc</a> = <a class="ref" href="../parse-options.h.html#parse_options" title='parse_options' data-ref="parse_options">parse_options</a>(<a class="local col4 ref" href="#4argc" title='argc' data-ref="4argc">argc</a>, <a class="local col5 ref" href="#5argv" title='argv' data-ref="5argv">argv</a>, <q>""</q>, <a class="local col2 ref" href="#12options" title='options' data-ref="12options">options</a>, <a class="tu ref" href="#builtin_column_usage" title='builtin_column_usage' data-use='r' data-ref="builtin_column_usage">builtin_column_usage</a>, <var>0</var>);</td></tr>
<tr><th id="48">48</th><td>	<b>if</b> (<a class="local col4 ref" href="#4argc" title='argc' data-ref="4argc">argc</a>)</td></tr>
<tr><th id="49">49</th><td>		<a class="ref" href="../parse-options.h.html#usage_with_options" title='usage_with_options' data-ref="usage_with_options">usage_with_options</a>(<a class="tu ref" href="#builtin_column_usage" title='builtin_column_usage' data-use='r' data-ref="builtin_column_usage">builtin_column_usage</a>, <a class="local col2 ref" href="#12options" title='options' data-ref="12options">options</a>);</td></tr>
<tr><th id="50">50</th><td>	<b>if</b> (<a class="local col1 ref" href="#11real_command" title='real_command' data-ref="11real_command">real_command</a> || <a class="local col0 ref" href="#10command" title='command' data-ref="10command">command</a>) {</td></tr>
<tr><th id="51">51</th><td>		<b>if</b> (!<a class="local col1 ref" href="#11real_command" title='real_command' data-ref="11real_command">real_command</a> || !<a class="local col0 ref" href="#10command" title='command' data-ref="10command">command</a> || <a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (real_command) &amp;&amp; __builtin_constant_p (command) &amp;&amp; (__s1_len = __builtin_strlen (real_command), __s2_len = __builtin_strlen (command), (!((size_t)(const void *)((real_command) + 1) - (size_t)(const void *)(real_command) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((command) + 1) - (size_t)(const void *)(command) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (real_command, command) : (__builtin_constant_p (real_command) &amp;&amp; ((size_t)(const void *)((real_command) + 1) - (size_t)(const void *)(real_command) == 1) &amp;&amp; (__s1_len = __builtin_strlen (real_command), __s1_len &lt; 4) ? (__builtin_constant_p (command) &amp;&amp; ((size_t)(const void *)((command) + 1) - (size_t)(const void *)(command) == 1) ? __builtin_strcmp (real_command, command) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (command); int __result = (((const unsigned char *) (const char *) (real_command))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (real_command))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (real_command))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (real_command))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (command) &amp;&amp; ((size_t)(const void *)((command) + 1) - (size_t)(const void *)(command) == 1) &amp;&amp; (__s2_len = __builtin_strlen (command), __s2_len &lt; 4) ? (__builtin_constant_p (real_command) &amp;&amp; ((size_t)(const void *)((real_command) + 1) - (size_t)(const void *)(real_command) == 1) ? __builtin_strcmp (real_command, command) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (real_command); int __result = (((const unsigned char *) (const char *) (command))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (command))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (command))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (command))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (real_command, command)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col1 ref" href="#11real_command" title='real_command' data-ref="11real_command">real_command</a>, <a class="local col0 ref" href="#10command" title='command' data-ref="10command">command</a>))</td></tr>
<tr><th id="52">52</th><td>			<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--command must be the first argument"</q>));</td></tr>
<tr><th id="53">53</th><td>	}</td></tr>
<tr><th id="54">54</th><td>	<a class="ref" href="../column.h.html#finalize_colopts" title='finalize_colopts' data-ref="finalize_colopts">finalize_colopts</a>(&amp;<a class="tu ref" href="#colopts" title='colopts' data-use='a' data-ref="colopts">colopts</a>, -<var>1</var>);</td></tr>
<tr><th id="55">55</th><td>	<b>while</b> (!<a class="ref" href="../strbuf.h.html#strbuf_getline" title='strbuf_getline' data-ref="strbuf_getline">strbuf_getline</a>(&amp;<a class="local col8 ref" href="#8sb" title='sb' data-ref="8sb">sb</a>, <a class="macro" href="../../include/stdio.h.html#172" title="stdin" data-ref="_M/stdin">stdin</a>))</td></tr>
<tr><th id="56">56</th><td>		<a class="ref" href="../string-list.h.html#string_list_append" title='string_list_append' data-ref="string_list_append">string_list_append</a>(&amp;<a class="local col7 ref" href="#7list" title='list' data-ref="7list">list</a>, <a class="local col8 ref" href="#8sb" title='sb' data-ref="8sb">sb</a>.<a class="ref" href="../strbuf.h.html#strbuf::buf" title='strbuf::buf' data-ref="strbuf::buf">buf</a>);</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td>	<a class="ref" href="../column.h.html#print_columns" title='print_columns' data-ref="print_columns">print_columns</a>(&amp;<a class="local col7 ref" href="#7list" title='list' data-ref="7list">list</a>, <a class="tu ref" href="#colopts" title='colopts' data-use='r' data-ref="colopts">colopts</a>, &amp;<a class="local col9 ref" href="#9copts" title='copts' data-ref="9copts">copts</a>);</td></tr>
<tr><th id="59">59</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="60">60</th><td>}</td></tr>
<tr><th id="61">61</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v2.14.1-326-g3dc57eb</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
