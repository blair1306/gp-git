<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>push.c source code [codebrowser/builtin/push.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'codebrowser/builtin/push.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>codebrowser</a>/<a href='./'>builtin</a>/<a href='push.c.html'>push.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * "git push"</i></td></tr>
<tr><th id="3">3</th><td><i> */</i></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="../cache.h.html">"cache.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../config.h.html">"config.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="../refs.h.html">"refs.h"</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="../run-command.h.html">"run-command.h"</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="../builtin.h.html">"builtin.h"</a></u></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="../remote.h.html">"remote.h"</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="../transport.h.html">"transport.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="../parse-options.h.html">"parse-options.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../submodule.h.html">"submodule.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../submodule-config.h.html">"submodule-config.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../send-pack.h.html">"send-pack.h"</a></u></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><em>static</em> <em>const</em> <em>char</em> * <em>const</em> <dfn class="tu decl def" id="push_usage" title='push_usage' data-type='const char *const [2]' data-ref="push_usage">push_usage</dfn>[] = {</td></tr>
<tr><th id="17">17</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;git push [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;...]]&quot;)" data-ref="_M/N_">N_</a>(<q>"git push [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;...]]"</q>),</td></tr>
<tr><th id="18">18</th><td>	<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>,</td></tr>
<tr><th id="19">19</th><td>};</td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="thin" title='thin' data-type='int' data-ref="thin">thin</dfn> = <var>1</var>;</td></tr>
<tr><th id="22">22</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="deleterefs" title='deleterefs' data-type='int' data-ref="deleterefs">deleterefs</dfn>;</td></tr>
<tr><th id="23">23</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="receivepack" title='receivepack' data-type='const char *' data-ref="receivepack">receivepack</dfn>;</td></tr>
<tr><th id="24">24</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="verbosity" title='verbosity' data-type='int' data-ref="verbosity">verbosity</dfn>;</td></tr>
<tr><th id="25">25</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="progress" title='progress' data-type='int' data-ref="progress">progress</dfn> = -<var>1</var>;</td></tr>
<tr><th id="26">26</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="recurse_submodules" title='recurse_submodules' data-type='int' data-ref="recurse_submodules">recurse_submodules</dfn> = <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_DEFAULT" title='RECURSE_SUBMODULES_DEFAULT' data-ref="RECURSE_SUBMODULES_DEFAULT">RECURSE_SUBMODULES_DEFAULT</a>;</td></tr>
<tr><th id="27">27</th><td><em>static</em> <b>enum</b> <a class="type" href="../transport.h.html#transport_family" title='transport_family' data-ref="transport_family">transport_family</a> <dfn class="tu decl def" id="family" title='family' data-type='enum transport_family' data-ref="family">family</dfn>;</td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><em>static</em> <b>struct</b> <a class="type" href="../remote.h.html#push_cas_option" title='push_cas_option' data-ref="push_cas_option">push_cas_option</a> <dfn class="tu decl def" id="cas" title='cas' data-type='struct push_cas_option' data-ref="cas">cas</dfn>;</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><em>static</em> <em>const</em> <em>char</em> **<dfn class="tu decl def" id="refspec" title='refspec' data-type='const char **' data-ref="refspec">refspec</dfn>;</td></tr>
<tr><th id="32">32</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="refspec_nr" title='refspec_nr' data-type='int' data-ref="refspec_nr">refspec_nr</dfn>;</td></tr>
<tr><th id="33">33</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="refspec_alloc" title='refspec_alloc' data-type='int' data-ref="refspec_alloc">refspec_alloc</dfn>;</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="add_refspec" title='add_refspec' data-type='void add_refspec(const char * ref)' data-ref="add_refspec">add_refspec</dfn>(<em>const</em> <em>char</em> *<dfn class="local col9 decl" id="9ref" title='ref' data-type='const char *' data-ref="9ref">ref</dfn>)</td></tr>
<tr><th id="36">36</th><td>{</td></tr>
<tr><th id="37">37</th><td>	<a class="tu ref" href="#refspec_nr" title='refspec_nr' data-use='w' data-ref="refspec_nr">refspec_nr</a>++;</td></tr>
<tr><th id="38">38</th><td>	<a class="macro" href="../cache.h.html#583" title="do { if ((refspec_nr) &gt; refspec_alloc) { if ((((refspec_alloc)+16)*3/2) &lt; (refspec_nr)) refspec_alloc = (refspec_nr); else refspec_alloc = (((refspec_alloc)+16)*3/2); (refspec) = xrealloc((refspec), st_mult(sizeof(*(refspec)), (refspec_alloc))); } } while (0)" data-ref="_M/ALLOC_GROW">ALLOC_GROW</a>(<a class="tu ref" href="#refspec" title='refspec' data-use='w' data-ref="refspec"><a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec"><a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a></a></a>, <a class="tu ref" href="#refspec_nr" title='refspec_nr' data-use='r' data-ref="refspec_nr">refspec_nr</a>, <a class="tu ref" href="#refspec_alloc" title='refspec_alloc' data-use='r' data-ref="refspec_alloc"><a class="tu ref" href="#refspec_alloc" title='refspec_alloc' data-use='w' data-ref="refspec_alloc"><a class="tu ref" href="#refspec_alloc" title='refspec_alloc' data-use='w' data-ref="refspec_alloc">refspec_alloc</a></a></a>);</td></tr>
<tr><th id="39">39</th><td>	<a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>[<a class="tu ref" href="#refspec_nr" title='refspec_nr' data-use='r' data-ref="refspec_nr">refspec_nr</a>-<var>1</var>] = <a class="local col9 ref" href="#9ref" title='ref' data-ref="9ref">ref</a>;</td></tr>
<tr><th id="40">40</th><td>}</td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><em>static</em> <em>const</em> <em>char</em> *<dfn class="tu decl def" id="map_refspec" title='map_refspec' data-type='const char * map_refspec(const char * ref, struct remote * remote, struct ref * local_refs)' data-ref="map_refspec">map_refspec</dfn>(<em>const</em> <em>char</em> *<dfn class="local col0 decl" id="10ref" title='ref' data-type='const char *' data-ref="10ref">ref</dfn>,</td></tr>
<tr><th id="43">43</th><td>			       <b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col1 decl" id="11remote" title='remote' data-type='struct remote *' data-ref="11remote">remote</dfn>, <b>struct</b> <a class="type" href="../remote.h.html#ref" title='ref' data-ref="ref">ref</a> *<dfn class="local col2 decl" id="12local_refs" title='local_refs' data-type='struct ref *' data-ref="12local_refs">local_refs</dfn>)</td></tr>
<tr><th id="44">44</th><td>{</td></tr>
<tr><th id="45">45</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#ref" title='ref' data-ref="ref">ref</a> *<dfn class="local col3 decl" id="13matched" title='matched' data-type='struct ref *' data-ref="13matched">matched</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td>	<i>/* Does "ref" uniquely name our ref? */</i></td></tr>
<tr><th id="48">48</th><td>	<b>if</b> (<a class="ref" href="../remote.h.html#count_refspec_match" title='count_refspec_match' data-ref="count_refspec_match">count_refspec_match</a>(<a class="local col0 ref" href="#10ref" title='ref' data-ref="10ref">ref</a>, <a class="local col2 ref" href="#12local_refs" title='local_refs' data-ref="12local_refs">local_refs</a>, &amp;<a class="local col3 ref" href="#13matched" title='matched' data-ref="13matched">matched</a>) != <var>1</var>)</td></tr>
<tr><th id="49">49</th><td>		<b>return</b> <a class="local col0 ref" href="#10ref" title='ref' data-ref="10ref">ref</a>;</td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td>	<b>if</b> (<a class="local col1 ref" href="#11remote" title='remote' data-ref="11remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push" title='remote::push' data-ref="remote::push">push</a>) {</td></tr>
<tr><th id="52">52</th><td>		<b>struct</b> <a class="type" href="../remote.h.html#refspec" title='refspec' data-ref="refspec">refspec</a> <dfn class="local col4 decl" id="14query" title='query' data-type='struct refspec' data-ref="14query">query</dfn>;</td></tr>
<tr><th id="53">53</th><td>		<a class="ref" href="../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(&amp;<a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>, <var>0</var>, <b>sizeof</b>(<b>struct</b> <a class="type" href="../remote.h.html#refspec" title='refspec' data-ref="refspec">refspec</a>));</td></tr>
<tr><th id="54">54</th><td>		<a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>.<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a> = <a class="local col3 ref" href="#13matched" title='matched' data-ref="13matched">matched</a>-&gt;<a class="ref" href="../remote.h.html#ref::name" title='ref::name' data-ref="ref::name">name</a>;</td></tr>
<tr><th id="55">55</th><td>		<b>if</b> (!<a class="ref" href="../remote.h.html#query_refspecs" title='query_refspecs' data-ref="query_refspecs">query_refspecs</a>(<a class="local col1 ref" href="#11remote" title='remote' data-ref="11remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push" title='remote::push' data-ref="remote::push">push</a>, <a class="local col1 ref" href="#11remote" title='remote' data-ref="11remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push_refspec_nr" title='remote::push_refspec_nr' data-ref="remote::push_refspec_nr">push_refspec_nr</a>, &amp;<a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>) &amp;&amp;</td></tr>
<tr><th id="56">56</th><td>		    <a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>.<a class="ref" href="../remote.h.html#refspec::dst" title='refspec::dst' data-ref="refspec::dst">dst</a>) {</td></tr>
<tr><th id="57">57</th><td>			<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col5 decl" id="15buf" title='buf' data-type='struct strbuf' data-ref="15buf">buf</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="58">58</th><td>			<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col5 ref" href="#15buf" title='buf' data-ref="15buf">buf</a>, <q>"%s%s:%s"</q>,</td></tr>
<tr><th id="59">59</th><td>				    <a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>.<a class="ref" href="../remote.h.html#refspec::force" title='refspec::force' data-ref="refspec::force">force</a> ? <q>"+"</q> : <q>""</q>,</td></tr>
<tr><th id="60">60</th><td>				    <a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>.<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>, <a class="local col4 ref" href="#14query" title='query' data-ref="14query">query</a>.<a class="ref" href="../remote.h.html#refspec::dst" title='refspec::dst' data-ref="refspec::dst">dst</a>);</td></tr>
<tr><th id="61">61</th><td>			<b>return</b> <a class="ref" href="../strbuf.h.html#strbuf_detach" title='strbuf_detach' data-ref="strbuf_detach">strbuf_detach</a>(&amp;<a class="local col5 ref" href="#15buf" title='buf' data-ref="15buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="62">62</th><td>		}</td></tr>
<tr><th id="63">63</th><td>	}</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>	<b>if</b> (<a class="ref" href="../cache.h.html#push_default" title='push_default' data-ref="push_default">push_default</a> == <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_UPSTREAM" title='push_default_type::PUSH_DEFAULT_UPSTREAM' data-ref="push_default_type::PUSH_DEFAULT_UPSTREAM">PUSH_DEFAULT_UPSTREAM</a> &amp;&amp;</td></tr>
<tr><th id="66">66</th><td>	    <a class="ref" href="../git-compat-util.h.html#starts_with" title='starts_with' data-ref="starts_with">starts_with</a>(<a class="local col3 ref" href="#13matched" title='matched' data-ref="13matched">matched</a>-&gt;<a class="ref" href="../remote.h.html#ref::name" title='ref::name' data-ref="ref::name">name</a>, <q>"refs/heads/"</q>)) {</td></tr>
<tr><th id="67">67</th><td>		<b>struct</b> <a class="type" href="../remote.h.html#branch" title='branch' data-ref="branch">branch</a> *<dfn class="local col6 decl" id="16branch" title='branch' data-type='struct branch *' data-ref="16branch">branch</dfn> = <a class="ref" href="../remote.h.html#branch_get" title='branch_get' data-ref="branch_get">branch_get</a>(<a class="local col3 ref" href="#13matched" title='matched' data-ref="13matched">matched</a>-&gt;<a class="ref" href="../remote.h.html#ref::name" title='ref::name' data-ref="ref::name">name</a> + <var>11</var>);</td></tr>
<tr><th id="68">68</th><td>		<b>if</b> (<a class="local col6 ref" href="#16branch" title='branch' data-ref="16branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge_nr" title='branch::merge_nr' data-ref="branch::merge_nr">merge_nr</a> == <var>1</var> &amp;&amp; <a class="local col6 ref" href="#16branch" title='branch' data-ref="16branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a>[<var>0</var>]-&gt;<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>) {</td></tr>
<tr><th id="69">69</th><td>			<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col7 decl" id="17buf" title='buf' data-type='struct strbuf' data-ref="17buf">buf</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="70">70</th><td>			<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf">buf</a>, <q>"%s:%s"</q>,</td></tr>
<tr><th id="71">71</th><td>				    <a class="local col0 ref" href="#10ref" title='ref' data-ref="10ref">ref</a>, <a class="local col6 ref" href="#16branch" title='branch' data-ref="16branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a>[<var>0</var>]-&gt;<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>);</td></tr>
<tr><th id="72">72</th><td>			<b>return</b> <a class="ref" href="../strbuf.h.html#strbuf_detach" title='strbuf_detach' data-ref="strbuf_detach">strbuf_detach</a>(&amp;<a class="local col7 ref" href="#17buf" title='buf' data-ref="17buf">buf</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="73">73</th><td>		}</td></tr>
<tr><th id="74">74</th><td>	}</td></tr>
<tr><th id="75">75</th><td></td></tr>
<tr><th id="76">76</th><td>	<b>return</b> <a class="local col0 ref" href="#10ref" title='ref' data-ref="10ref">ref</a>;</td></tr>
<tr><th id="77">77</th><td>}</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="set_refspecs" title='set_refspecs' data-type='void set_refspecs(const char ** refs, int nr, const char * repo)' data-ref="set_refspecs">set_refspecs</dfn>(<em>const</em> <em>char</em> **<dfn class="local col8 decl" id="18refs" title='refs' data-type='const char **' data-ref="18refs">refs</dfn>, <em>int</em> <dfn class="local col9 decl" id="19nr" title='nr' data-type='int' data-ref="19nr">nr</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="20repo" title='repo' data-type='const char *' data-ref="20repo">repo</dfn>)</td></tr>
<tr><th id="80">80</th><td>{</td></tr>
<tr><th id="81">81</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col1 decl" id="21remote" title='remote' data-type='struct remote *' data-ref="21remote">remote</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="82">82</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#ref" title='ref' data-ref="ref">ref</a> *<dfn class="local col2 decl" id="22local_refs" title='local_refs' data-type='struct ref *' data-ref="22local_refs">local_refs</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="83">83</th><td>	<em>int</em> <dfn class="local col3 decl" id="23i" title='i' data-type='int' data-ref="23i">i</dfn>;</td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td>	<b>for</b> (<a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a> = <var>0</var>; <a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a> &lt; <a class="local col9 ref" href="#19nr" title='nr' data-ref="19nr">nr</a>; <a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a>++) {</td></tr>
<tr><th id="86">86</th><td>		<em>const</em> <em>char</em> *<dfn class="local col4 decl" id="24ref" title='ref' data-type='const char *' data-ref="24ref">ref</dfn> = <a class="local col8 ref" href="#18refs" title='refs' data-ref="18refs">refs</a>[<a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a>];</td></tr>
<tr><th id="87">87</th><td>		<b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (&quot;tag&quot;) &amp;&amp; __builtin_constant_p (ref) &amp;&amp; (__s1_len = __builtin_strlen (&quot;tag&quot;), __s2_len = __builtin_strlen (ref), (!((size_t)(const void *)((&quot;tag&quot;) + 1) - (size_t)(const void *)(&quot;tag&quot;) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((ref) + 1) - (size_t)(const void *)(ref) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (&quot;tag&quot;, ref) : (__builtin_constant_p (&quot;tag&quot;) &amp;&amp; ((size_t)(const void *)((&quot;tag&quot;) + 1) - (size_t)(const void *)(&quot;tag&quot;) == 1) &amp;&amp; (__s1_len = __builtin_strlen (&quot;tag&quot;), __s1_len &lt; 4) ? (__builtin_constant_p (ref) &amp;&amp; ((size_t)(const void *)((ref) + 1) - (size_t)(const void *)(ref) == 1) ? __builtin_strcmp (&quot;tag&quot;, ref) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (ref); int __result = (((const unsigned char *) (const char *) (&quot;tag&quot;))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;tag&quot;))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;tag&quot;))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;tag&quot;))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (ref) &amp;&amp; ((size_t)(const void *)((ref) + 1) - (size_t)(const void *)(ref) == 1) &amp;&amp; (__s2_len = __builtin_strlen (ref), __s2_len &lt; 4) ? (__builtin_constant_p (&quot;tag&quot;) &amp;&amp; ((size_t)(const void *)((&quot;tag&quot;) + 1) - (size_t)(const void *)(&quot;tag&quot;) == 1) ? __builtin_strcmp (&quot;tag&quot;, ref) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;tag&quot;); int __result = (((const unsigned char *) (const char *) (ref))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (ref))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (ref))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (ref))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (&quot;tag&quot;, ref)))); })" data-ref="_M/strcmp">strcmp</a>(<q>"tag"</q>, <a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>)) {</td></tr>
<tr><th id="88">88</th><td>			<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col5 decl" id="25tagref" title='tagref' data-type='struct strbuf' data-ref="25tagref">tagref</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="89">89</th><td>			<b>if</b> (<a class="local col9 ref" href="#19nr" title='nr' data-ref="19nr">nr</a> &lt;= ++<a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a>)</td></tr>
<tr><th id="90">90</th><td>				<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"tag shorthand without &lt;tag&gt;"</q>));</td></tr>
<tr><th id="91">91</th><td>			<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a> = <a class="local col8 ref" href="#18refs" title='refs' data-ref="18refs">refs</a>[<a class="local col3 ref" href="#23i" title='i' data-ref="23i">i</a>];</td></tr>
<tr><th id="92">92</th><td>			<b>if</b> (<a class="tu ref" href="#deleterefs" title='deleterefs' data-use='r' data-ref="deleterefs">deleterefs</a>)</td></tr>
<tr><th id="93">93</th><td>				<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col5 ref" href="#25tagref" title='tagref' data-ref="25tagref">tagref</a>, <q>":refs/tags/%s"</q>, <a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>);</td></tr>
<tr><th id="94">94</th><td>			<b>else</b></td></tr>
<tr><th id="95">95</th><td>				<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col5 ref" href="#25tagref" title='tagref' data-ref="25tagref">tagref</a>, <q>"refs/tags/%s"</q>, <a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>);</td></tr>
<tr><th id="96">96</th><td>			<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a> = <a class="ref" href="../strbuf.h.html#strbuf_detach" title='strbuf_detach' data-ref="strbuf_detach">strbuf_detach</a>(&amp;<a class="local col5 ref" href="#25tagref" title='tagref' data-ref="25tagref">tagref</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="97">97</th><td>		} <b>else</b> <b>if</b> (<a class="tu ref" href="#deleterefs" title='deleterefs' data-use='r' data-ref="deleterefs">deleterefs</a>) {</td></tr>
<tr><th id="98">98</th><td>			<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col6 decl" id="26delref" title='delref' data-type='struct strbuf' data-ref="26delref">delref</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="99">99</th><td>			<b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#395" title="(__extension__ (__builtin_constant_p (&apos;:&apos;) &amp;&amp; !__builtin_constant_p (ref) &amp;&amp; (&apos;:&apos;) == &apos;\0&apos; ? (char *) __rawmemchr (ref, &apos;:&apos;) : __builtin_strchr (ref, &apos;:&apos;)))" data-ref="_M/strchr">strchr</a>(<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>, <kbd>':'</kbd>))</td></tr>
<tr><th id="100">100</th><td>				<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--delete only accepts plain target ref names"</q>));</td></tr>
<tr><th id="101">101</th><td>			<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col6 ref" href="#26delref" title='delref' data-ref="26delref">delref</a>, <q>":%s"</q>, <a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>);</td></tr>
<tr><th id="102">102</th><td>			<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a> = <a class="ref" href="../strbuf.h.html#strbuf_detach" title='strbuf_detach' data-ref="strbuf_detach">strbuf_detach</a>(&amp;<a class="local col6 ref" href="#26delref" title='delref' data-ref="26delref">delref</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="103">103</th><td>		} <b>else</b> <b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#395" title="(__extension__ (__builtin_constant_p (&apos;:&apos;) &amp;&amp; !__builtin_constant_p (ref) &amp;&amp; (&apos;:&apos;) == &apos;\0&apos; ? (char *) __rawmemchr (ref, &apos;:&apos;) : __builtin_strchr (ref, &apos;:&apos;)))" data-ref="_M/strchr">strchr</a>(<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>, <kbd>':'</kbd>)) {</td></tr>
<tr><th id="104">104</th><td>			<b>if</b> (!<a class="local col1 ref" href="#21remote" title='remote' data-ref="21remote">remote</a>) {</td></tr>
<tr><th id="105">105</th><td>				<i>/* lazily grab remote and local_refs */</i></td></tr>
<tr><th id="106">106</th><td>				<a class="local col1 ref" href="#21remote" title='remote' data-ref="21remote">remote</a> = <a class="ref" href="../remote.h.html#remote_get" title='remote_get' data-ref="remote_get">remote_get</a>(<a class="local col0 ref" href="#20repo" title='repo' data-ref="20repo">repo</a>);</td></tr>
<tr><th id="107">107</th><td>				<a class="local col2 ref" href="#22local_refs" title='local_refs' data-ref="22local_refs">local_refs</a> = <a class="ref" href="../remote.h.html#get_local_heads" title='get_local_heads' data-ref="get_local_heads">get_local_heads</a>();</td></tr>
<tr><th id="108">108</th><td>			}</td></tr>
<tr><th id="109">109</th><td>			<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a> = <a class="tu ref" href="#map_refspec" title='map_refspec' data-use='c' data-ref="map_refspec">map_refspec</a>(<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>, <a class="local col1 ref" href="#21remote" title='remote' data-ref="21remote">remote</a>, <a class="local col2 ref" href="#22local_refs" title='local_refs' data-ref="22local_refs">local_refs</a>);</td></tr>
<tr><th id="110">110</th><td>		}</td></tr>
<tr><th id="111">111</th><td>		<a class="tu ref" href="#add_refspec" title='add_refspec' data-use='c' data-ref="add_refspec">add_refspec</a>(<a class="local col4 ref" href="#24ref" title='ref' data-ref="24ref">ref</a>);</td></tr>
<tr><th id="112">112</th><td>	}</td></tr>
<tr><th id="113">113</th><td>}</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="push_url_of_remote" title='push_url_of_remote' data-type='int push_url_of_remote(struct remote * remote, const char *** url_p)' data-ref="push_url_of_remote">push_url_of_remote</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col7 decl" id="27remote" title='remote' data-type='struct remote *' data-ref="27remote">remote</dfn>, <em>const</em> <em>char</em> ***<dfn class="local col8 decl" id="28url_p" title='url_p' data-type='const char ***' data-ref="28url_p">url_p</dfn>)</td></tr>
<tr><th id="116">116</th><td>{</td></tr>
<tr><th id="117">117</th><td>	<b>if</b> (<a class="local col7 ref" href="#27remote" title='remote' data-ref="27remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::pushurl_nr" title='remote::pushurl_nr' data-ref="remote::pushurl_nr">pushurl_nr</a>) {</td></tr>
<tr><th id="118">118</th><td>		*<a class="local col8 ref" href="#28url_p" title='url_p' data-ref="28url_p">url_p</a> = <a class="local col7 ref" href="#27remote" title='remote' data-ref="27remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::pushurl" title='remote::pushurl' data-ref="remote::pushurl">pushurl</a>;</td></tr>
<tr><th id="119">119</th><td>		<b>return</b> <a class="local col7 ref" href="#27remote" title='remote' data-ref="27remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::pushurl_nr" title='remote::pushurl_nr' data-ref="remote::pushurl_nr">pushurl_nr</a>;</td></tr>
<tr><th id="120">120</th><td>	}</td></tr>
<tr><th id="121">121</th><td>	*<a class="local col8 ref" href="#28url_p" title='url_p' data-ref="28url_p">url_p</a> = <a class="local col7 ref" href="#27remote" title='remote' data-ref="27remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::url" title='remote::url' data-ref="remote::url">url</a>;</td></tr>
<tr><th id="122">122</th><td>	<b>return</b> <a class="local col7 ref" href="#27remote" title='remote' data-ref="27remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::url_nr" title='remote::url_nr' data-ref="remote::url_nr">url_nr</a>;</td></tr>
<tr><th id="123">123</th><td>}</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td><em>static</em> <a class="macro" href="../git-compat-util.h.html#385" title="__attribute__((__noreturn__))" data-ref="_M/NORETURN">NORETURN</a> <em>int</em> <dfn class="tu decl def" id="die_push_simple" title='die_push_simple' data-type='int die_push_simple(struct branch * branch, struct remote * remote)' data-ref="die_push_simple">die_push_simple</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#branch" title='branch' data-ref="branch">branch</a> *<dfn class="local col9 decl" id="29branch" title='branch' data-type='struct branch *' data-ref="29branch">branch</dfn>, <b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col0 decl" id="30remote" title='remote' data-type='struct remote *' data-ref="30remote">remote</dfn>) {</td></tr>
<tr><th id="126">126</th><td>	<i>/*</i></td></tr>
<tr><th id="127">127</th><td><i>	 * There's no point in using shorten_unambiguous_ref here,</i></td></tr>
<tr><th id="128">128</th><td><i>	 * as the ambiguity would be on the remote side, not what</i></td></tr>
<tr><th id="129">129</th><td><i>	 * we have locally. Plus, this is supposed to be the simple</i></td></tr>
<tr><th id="130">130</th><td><i>	 * mode. If the user is doing something crazy like setting</i></td></tr>
<tr><th id="131">131</th><td><i>	 * upstream to a non-branch, we should probably be showing</i></td></tr>
<tr><th id="132">132</th><td><i>	 * them the big ugly fully qualified ref.</i></td></tr>
<tr><th id="133">133</th><td><i>	 */</i></td></tr>
<tr><th id="134">134</th><td>	<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="31advice_maybe" title='advice_maybe' data-type='const char *' data-ref="31advice_maybe">advice_maybe</dfn> = <q>""</q>;</td></tr>
<tr><th id="135">135</th><td>	<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="32short_upstream" title='short_upstream' data-type='const char *' data-ref="32short_upstream">short_upstream</dfn> = <a class="local col9 ref" href="#29branch" title='branch' data-ref="29branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a>[<var>0</var>]-&gt;<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>;</td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td>	<a class="ref" href="../git-compat-util.h.html#skip_prefix" title='skip_prefix' data-ref="skip_prefix">skip_prefix</a>(<a class="local col2 ref" href="#32short_upstream" title='short_upstream' data-ref="32short_upstream">short_upstream</a>, <q>"refs/heads/"</q>, &amp;<a class="local col2 ref" href="#32short_upstream" title='short_upstream' data-ref="32short_upstream">short_upstream</a>);</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>	<i>/*</i></td></tr>
<tr><th id="140">140</th><td><i>	 * Don't show advice for people who explicitly set</i></td></tr>
<tr><th id="141">141</th><td><i>	 * push.default.</i></td></tr>
<tr><th id="142">142</th><td><i>	 */</i></td></tr>
<tr><th id="143">143</th><td>	<b>if</b> (<a class="ref" href="../cache.h.html#push_default" title='push_default' data-ref="push_default">push_default</a> == <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_UNSPECIFIED" title='push_default_type::PUSH_DEFAULT_UNSPECIFIED' data-ref="push_default_type::PUSH_DEFAULT_UNSPECIFIED">PUSH_DEFAULT_UNSPECIFIED</a>)</td></tr>
<tr><th id="144">144</th><td>		<a class="local col1 ref" href="#31advice_maybe" title='advice_maybe' data-ref="31advice_maybe">advice_maybe</a> = <a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"\n"</q></td></tr>
<tr><th id="145">145</th><td>				 <q>"To choose either option permanently, "</q></td></tr>
<tr><th id="146">146</th><td>				 <q>"see push.default in 'git help config'."</q>);</td></tr>
<tr><th id="147">147</th><td>	<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"The upstream branch of your current branch does not match\n"</q></td></tr>
<tr><th id="148">148</th><td>	      <q>"the name of your current branch.  To push to the upstream branch\n"</q></td></tr>
<tr><th id="149">149</th><td>	      <q>"on the remote, use\n"</q></td></tr>
<tr><th id="150">150</th><td>	      <q>"\n"</q></td></tr>
<tr><th id="151">151</th><td>	      <q>"    git push %s HEAD:%s\n"</q></td></tr>
<tr><th id="152">152</th><td>	      <q>"\n"</q></td></tr>
<tr><th id="153">153</th><td>	      <q>"To push to the branch of the same name on the remote, use\n"</q></td></tr>
<tr><th id="154">154</th><td>	      <q>"\n"</q></td></tr>
<tr><th id="155">155</th><td>	      <q>"    git push %s %s\n"</q></td></tr>
<tr><th id="156">156</th><td>	      <q>"%s"</q>),</td></tr>
<tr><th id="157">157</th><td>	    <a class="local col0 ref" href="#30remote" title='remote' data-ref="30remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>, <a class="local col2 ref" href="#32short_upstream" title='short_upstream' data-ref="32short_upstream">short_upstream</a>,</td></tr>
<tr><th id="158">158</th><td>	    <a class="local col0 ref" href="#30remote" title='remote' data-ref="30remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>, <a class="local col9 ref" href="#29branch" title='branch' data-ref="29branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::name" title='branch::name' data-ref="branch::name">name</a>, <a class="local col1 ref" href="#31advice_maybe" title='advice_maybe' data-ref="31advice_maybe">advice_maybe</a>);</td></tr>
<tr><th id="159">159</th><td>}</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_detached_head_die" title='message_detached_head_die' data-type='const char [156]' data-ref="message_detached_head_die">message_detached_head_die</dfn>[] =</td></tr>
<tr><th id="162">162</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;You are not currently on a branch.\n&quot; &quot;To push the history leading to the current (detached HEAD)\n&quot; &quot;state now, use\n&quot; &quot;\n&quot; &quot;    git push %s HEAD:&lt;name-of-remote-branch&gt;\n&quot;)" data-ref="_M/N_">N_</a>(<q>"You are not currently on a branch.\n"</q></td></tr>
<tr><th id="163">163</th><td>	   <q>"To push the history leading to the current (detached HEAD)\n"</q></td></tr>
<tr><th id="164">164</th><td>	   <q>"state now, use\n"</q></td></tr>
<tr><th id="165">165</th><td>	   <q>"\n"</q></td></tr>
<tr><th id="166">166</th><td>	   <q>"    git push %s HEAD:&lt;name-of-remote-branch&gt;\n"</q>);</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="setup_push_upstream" title='setup_push_upstream' data-type='void setup_push_upstream(struct remote * remote, struct branch * branch, int triangular, int simple)' data-ref="setup_push_upstream">setup_push_upstream</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col3 decl" id="33remote" title='remote' data-type='struct remote *' data-ref="33remote">remote</dfn>, <b>struct</b> <a class="type" href="../remote.h.html#branch" title='branch' data-ref="branch">branch</a> *<dfn class="local col4 decl" id="34branch" title='branch' data-type='struct branch *' data-ref="34branch">branch</dfn>,</td></tr>
<tr><th id="169">169</th><td>				<em>int</em> <dfn class="local col5 decl" id="35triangular" title='triangular' data-type='int' data-ref="35triangular">triangular</dfn>, <em>int</em> <dfn class="local col6 decl" id="36simple" title='simple' data-type='int' data-ref="36simple">simple</dfn>)</td></tr>
<tr><th id="170">170</th><td>{</td></tr>
<tr><th id="171">171</th><td>	<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col7 decl" id="37refspec" title='refspec' data-type='struct strbuf' data-ref="37refspec">refspec</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="172">172</th><td></td></tr>
<tr><th id="173">173</th><td>	<b>if</b> (!<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>)</td></tr>
<tr><th id="174">174</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_detached_head_die" title='message_detached_head_die' data-use='r' data-ref="message_detached_head_die">message_detached_head_die</a>), <a class="local col3 ref" href="#33remote" title='remote' data-ref="33remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>);</td></tr>
<tr><th id="175">175</th><td>	<b>if</b> (!<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge_nr" title='branch::merge_nr' data-ref="branch::merge_nr">merge_nr</a> || !<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a> || !<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::remote_name" title='branch::remote_name' data-ref="branch::remote_name">remote_name</a>)</td></tr>
<tr><th id="176">176</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"The current branch %s has no upstream branch.\n"</q></td></tr>
<tr><th id="177">177</th><td>		    <q>"To push the current branch and set the remote as upstream, use\n"</q></td></tr>
<tr><th id="178">178</th><td>		    <q>"\n"</q></td></tr>
<tr><th id="179">179</th><td>		    <q>"    git push --set-upstream %s %s\n"</q>),</td></tr>
<tr><th id="180">180</th><td>		    <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::name" title='branch::name' data-ref="branch::name">name</a>,</td></tr>
<tr><th id="181">181</th><td>		    <a class="local col3 ref" href="#33remote" title='remote' data-ref="33remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>,</td></tr>
<tr><th id="182">182</th><td>		    <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::name" title='branch::name' data-ref="branch::name">name</a>);</td></tr>
<tr><th id="183">183</th><td>	<b>if</b> (<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge_nr" title='branch::merge_nr' data-ref="branch::merge_nr">merge_nr</a> != <var>1</var>)</td></tr>
<tr><th id="184">184</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"The current branch %s has multiple upstream branches, "</q></td></tr>
<tr><th id="185">185</th><td>		    <q>"refusing to push."</q>), <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::name" title='branch::name' data-ref="branch::name">name</a>);</td></tr>
<tr><th id="186">186</th><td>	<b>if</b> (<a class="local col5 ref" href="#35triangular" title='triangular' data-ref="35triangular">triangular</a>)</td></tr>
<tr><th id="187">187</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"You are pushing to remote '%s', which is not the upstream of\n"</q></td></tr>
<tr><th id="188">188</th><td>		      <q>"your current branch '%s', without telling me what to push\n"</q></td></tr>
<tr><th id="189">189</th><td>		      <q>"to update which remote branch."</q>),</td></tr>
<tr><th id="190">190</th><td>		    <a class="local col3 ref" href="#33remote" title='remote' data-ref="33remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>, <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::name" title='branch::name' data-ref="branch::name">name</a>);</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td>	<b>if</b> (<a class="local col6 ref" href="#36simple" title='simple' data-ref="36simple">simple</a>) {</td></tr>
<tr><th id="193">193</th><td>		<i>/* Additional safety */</i></td></tr>
<tr><th id="194">194</th><td>		<b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (branch-&gt;refname) &amp;&amp; __builtin_constant_p (branch-&gt;merge[0]-&gt;src) &amp;&amp; (__s1_len = __builtin_strlen (branch-&gt;refname), __s2_len = __builtin_strlen (branch-&gt;merge[0]-&gt;src), (!((size_t)(const void *)((branch-&gt;refname) + 1) - (size_t)(const void *)(branch-&gt;refname) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((branch-&gt;merge[0]-&gt;src) + 1) - (size_t)(const void *)(branch-&gt;merge[0]-&gt;src) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (branch-&gt;refname, branch-&gt;merge[0]-&gt;src) : (__builtin_constant_p (branch-&gt;refname) &amp;&amp; ((size_t)(const void *)((branch-&gt;refname) + 1) - (size_t)(const void *)(branch-&gt;refname) == 1) &amp;&amp; (__s1_len = __builtin_strlen (branch-&gt;refname), __s1_len &lt; 4) ? (__builtin_constant_p (branch-&gt;merge[0]-&gt;src) &amp;&amp; ((size_t)(const void *)((branch-&gt;merge[0]-&gt;src) + 1) - (size_t)(const void *)(branch-&gt;merge[0]-&gt;src) == 1) ? __builtin_strcmp (branch-&gt;refname, branch-&gt;merge[0]-&gt;src) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (branch-&gt;merge[0]-&gt;src); int __result = (((const unsigned char *) (const char *) (branch-&gt;refname))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (branch-&gt;refname))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (branch-&gt;refname))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (branch-&gt;refname))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (branch-&gt;merge[0]-&gt;src) &amp;&amp; ((size_t)(const void *)((branch-&gt;merge[0]-&gt;src) + 1) - (size_t)(const void *)(branch-&gt;merge[0]-&gt;src) == 1) &amp;&amp; (__s2_len = __builtin_strlen (branch-&gt;merge[0]-&gt;src), __s2_len &lt; 4) ? (__builtin_constant_p (branch-&gt;refname) &amp;&amp; ((size_t)(const void *)((branch-&gt;refname) + 1) - (size_t)(const void *)(branch-&gt;refname) == 1) ? __builtin_strcmp (branch-&gt;refname, branch-&gt;merge[0]-&gt;src) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (branch-&gt;refname); int __result = (((const unsigned char *) (const char *) (branch-&gt;merge[0]-&gt;src))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (branch-&gt;merge[0]-&gt;src))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (branch-&gt;merge[0]-&gt;src))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (branch-&gt;merge[0]-&gt;src))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (branch-&gt;refname, branch-&gt;merge[0]-&gt;src)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::refname" title='branch::refname' data-ref="branch::refname">refname</a>, <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a>[<var>0</var>]-&gt;<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>))</td></tr>
<tr><th id="195">195</th><td>			<a class="tu ref" href="#die_push_simple" title='die_push_simple' data-use='c' data-ref="die_push_simple">die_push_simple</a>(<a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>, <a class="local col3 ref" href="#33remote" title='remote' data-ref="33remote">remote</a>);</td></tr>
<tr><th id="196">196</th><td>	}</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td>	<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col7 ref" href="#37refspec" title='refspec' data-ref="37refspec">refspec</a>, <q>"%s:%s"</q>, <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::refname" title='branch::refname' data-ref="branch::refname">refname</a>, <a class="local col4 ref" href="#34branch" title='branch' data-ref="34branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::merge" title='branch::merge' data-ref="branch::merge">merge</a>[<var>0</var>]-&gt;<a class="ref" href="../remote.h.html#refspec::src" title='refspec::src' data-ref="refspec::src">src</a>);</td></tr>
<tr><th id="199">199</th><td>	<a class="tu ref" href="#add_refspec" title='add_refspec' data-use='c' data-ref="add_refspec">add_refspec</a>(<a class="local col7 ref" href="#37refspec" title='refspec' data-ref="37refspec">refspec</a>.<a class="ref" href="../strbuf.h.html#strbuf::buf" title='strbuf::buf' data-ref="strbuf::buf">buf</a>);</td></tr>
<tr><th id="200">200</th><td>}</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="setup_push_current" title='setup_push_current' data-type='void setup_push_current(struct remote * remote, struct branch * branch)' data-ref="setup_push_current">setup_push_current</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col8 decl" id="38remote" title='remote' data-type='struct remote *' data-ref="38remote">remote</dfn>, <b>struct</b> <a class="type" href="../remote.h.html#branch" title='branch' data-ref="branch">branch</a> *<dfn class="local col9 decl" id="39branch" title='branch' data-type='struct branch *' data-ref="39branch">branch</dfn>)</td></tr>
<tr><th id="203">203</th><td>{</td></tr>
<tr><th id="204">204</th><td>	<b>struct</b> <a class="type" href="../strbuf.h.html#strbuf" title='strbuf' data-ref="strbuf">strbuf</a> <dfn class="local col0 decl" id="40refspec" title='refspec' data-type='struct strbuf' data-ref="40refspec">refspec</dfn> = <a class="macro" href="../strbuf.h.html#71" title="{ .alloc = 0, .len = 0, .buf = strbuf_slopbuf }" data-ref="_M/STRBUF_INIT">STRBUF_INIT</a>;</td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>	<b>if</b> (!<a class="local col9 ref" href="#39branch" title='branch' data-ref="39branch">branch</a>)</td></tr>
<tr><th id="207">207</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_detached_head_die" title='message_detached_head_die' data-use='r' data-ref="message_detached_head_die">message_detached_head_die</a>), <a class="local col8 ref" href="#38remote" title='remote' data-ref="38remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::name" title='remote::name' data-ref="remote::name">name</a>);</td></tr>
<tr><th id="208">208</th><td>	<a class="ref" href="../strbuf.h.html#strbuf_addf" title='strbuf_addf' data-ref="strbuf_addf">strbuf_addf</a>(&amp;<a class="local col0 ref" href="#40refspec" title='refspec' data-ref="40refspec">refspec</a>, <q>"%s:%s"</q>, <a class="local col9 ref" href="#39branch" title='branch' data-ref="39branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::refname" title='branch::refname' data-ref="branch::refname">refname</a>, <a class="local col9 ref" href="#39branch" title='branch' data-ref="39branch">branch</a>-&gt;<a class="ref" href="../remote.h.html#branch::refname" title='branch::refname' data-ref="branch::refname">refname</a>);</td></tr>
<tr><th id="209">209</th><td>	<a class="tu ref" href="#add_refspec" title='add_refspec' data-use='c' data-ref="add_refspec">add_refspec</a>(<a class="local col0 ref" href="#40refspec" title='refspec' data-ref="40refspec">refspec</a>.<a class="ref" href="../strbuf.h.html#strbuf::buf" title='strbuf::buf' data-ref="strbuf::buf">buf</a>);</td></tr>
<tr><th id="210">210</th><td>}</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="is_workflow_triangular" title='is_workflow_triangular' data-type='int is_workflow_triangular(struct remote * remote)' data-ref="is_workflow_triangular">is_workflow_triangular</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col1 decl" id="41remote" title='remote' data-type='struct remote *' data-ref="41remote">remote</dfn>)</td></tr>
<tr><th id="213">213</th><td>{</td></tr>
<tr><th id="214">214</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col2 decl" id="42fetch_remote" title='fetch_remote' data-type='struct remote *' data-ref="42fetch_remote">fetch_remote</dfn> = <a class="ref" href="../remote.h.html#remote_get" title='remote_get' data-ref="remote_get">remote_get</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="215">215</th><td>	<b>return</b> (<a class="local col2 ref" href="#42fetch_remote" title='fetch_remote' data-ref="42fetch_remote">fetch_remote</a> &amp;&amp; <a class="local col2 ref" href="#42fetch_remote" title='fetch_remote' data-ref="42fetch_remote">fetch_remote</a> != <a class="local col1 ref" href="#41remote" title='remote' data-ref="41remote">remote</a>);</td></tr>
<tr><th id="216">216</th><td>}</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="setup_default_push_refspecs" title='setup_default_push_refspecs' data-type='void setup_default_push_refspecs(struct remote * remote)' data-ref="setup_default_push_refspecs">setup_default_push_refspecs</dfn>(<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col3 decl" id="43remote" title='remote' data-type='struct remote *' data-ref="43remote">remote</dfn>)</td></tr>
<tr><th id="219">219</th><td>{</td></tr>
<tr><th id="220">220</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#branch" title='branch' data-ref="branch">branch</a> *<dfn class="local col4 decl" id="44branch" title='branch' data-type='struct branch *' data-ref="44branch">branch</dfn> = <a class="ref" href="../remote.h.html#branch_get" title='branch_get' data-ref="branch_get">branch_get</a>(<span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="221">221</th><td>	<em>int</em> <dfn class="local col5 decl" id="45triangular" title='triangular' data-type='int' data-ref="45triangular">triangular</dfn> = <a class="tu ref" href="#is_workflow_triangular" title='is_workflow_triangular' data-use='c' data-ref="is_workflow_triangular">is_workflow_triangular</a>(<a class="local col3 ref" href="#43remote" title='remote' data-ref="43remote">remote</a>);</td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td>	<b>switch</b> (<a class="ref" href="../cache.h.html#push_default" title='push_default' data-ref="push_default">push_default</a>) {</td></tr>
<tr><th id="224">224</th><td>	<b>default</b>:</td></tr>
<tr><th id="225">225</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_MATCHING" title='push_default_type::PUSH_DEFAULT_MATCHING' data-ref="push_default_type::PUSH_DEFAULT_MATCHING">PUSH_DEFAULT_MATCHING</a>:</td></tr>
<tr><th id="226">226</th><td>		<a class="tu ref" href="#add_refspec" title='add_refspec' data-use='c' data-ref="add_refspec">add_refspec</a>(<q>":"</q>);</td></tr>
<tr><th id="227">227</th><td>		<b>break</b>;</td></tr>
<tr><th id="228">228</th><td></td></tr>
<tr><th id="229">229</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_UNSPECIFIED" title='push_default_type::PUSH_DEFAULT_UNSPECIFIED' data-ref="push_default_type::PUSH_DEFAULT_UNSPECIFIED">PUSH_DEFAULT_UNSPECIFIED</a>:</td></tr>
<tr><th id="230">230</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_SIMPLE" title='push_default_type::PUSH_DEFAULT_SIMPLE' data-ref="push_default_type::PUSH_DEFAULT_SIMPLE">PUSH_DEFAULT_SIMPLE</a>:</td></tr>
<tr><th id="231">231</th><td>		<b>if</b> (<a class="local col5 ref" href="#45triangular" title='triangular' data-ref="45triangular">triangular</a>)</td></tr>
<tr><th id="232">232</th><td>			<a class="tu ref" href="#setup_push_current" title='setup_push_current' data-use='c' data-ref="setup_push_current">setup_push_current</a>(<a class="local col3 ref" href="#43remote" title='remote' data-ref="43remote">remote</a>, <a class="local col4 ref" href="#44branch" title='branch' data-ref="44branch">branch</a>);</td></tr>
<tr><th id="233">233</th><td>		<b>else</b></td></tr>
<tr><th id="234">234</th><td>			<a class="tu ref" href="#setup_push_upstream" title='setup_push_upstream' data-use='c' data-ref="setup_push_upstream">setup_push_upstream</a>(<a class="local col3 ref" href="#43remote" title='remote' data-ref="43remote">remote</a>, <a class="local col4 ref" href="#44branch" title='branch' data-ref="44branch">branch</a>, <a class="local col5 ref" href="#45triangular" title='triangular' data-ref="45triangular">triangular</a>, <var>1</var>);</td></tr>
<tr><th id="235">235</th><td>		<b>break</b>;</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_UPSTREAM" title='push_default_type::PUSH_DEFAULT_UPSTREAM' data-ref="push_default_type::PUSH_DEFAULT_UPSTREAM">PUSH_DEFAULT_UPSTREAM</a>:</td></tr>
<tr><th id="238">238</th><td>		<a class="tu ref" href="#setup_push_upstream" title='setup_push_upstream' data-use='c' data-ref="setup_push_upstream">setup_push_upstream</a>(<a class="local col3 ref" href="#43remote" title='remote' data-ref="43remote">remote</a>, <a class="local col4 ref" href="#44branch" title='branch' data-ref="44branch">branch</a>, <a class="local col5 ref" href="#45triangular" title='triangular' data-ref="45triangular">triangular</a>, <var>0</var>);</td></tr>
<tr><th id="239">239</th><td>		<b>break</b>;</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_CURRENT" title='push_default_type::PUSH_DEFAULT_CURRENT' data-ref="push_default_type::PUSH_DEFAULT_CURRENT">PUSH_DEFAULT_CURRENT</a>:</td></tr>
<tr><th id="242">242</th><td>		<a class="tu ref" href="#setup_push_current" title='setup_push_current' data-use='c' data-ref="setup_push_current">setup_push_current</a>(<a class="local col3 ref" href="#43remote" title='remote' data-ref="43remote">remote</a>, <a class="local col4 ref" href="#44branch" title='branch' data-ref="44branch">branch</a>);</td></tr>
<tr><th id="243">243</th><td>		<b>break</b>;</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>	<b>case</b> <a class="enum" href="../cache.h.html#push_default_type::PUSH_DEFAULT_NOTHING" title='push_default_type::PUSH_DEFAULT_NOTHING' data-ref="push_default_type::PUSH_DEFAULT_NOTHING">PUSH_DEFAULT_NOTHING</a>:</td></tr>
<tr><th id="246">246</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"You didn't specify any refspecs to push, and "</q></td></tr>
<tr><th id="247">247</th><td>		    <q>"push.default is \"nothing\"."</q>));</td></tr>
<tr><th id="248">248</th><td>		<b>break</b>;</td></tr>
<tr><th id="249">249</th><td>	}</td></tr>
<tr><th id="250">250</th><td>}</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_advice_pull_before_push" title='message_advice_pull_before_push' data-type='const char [237]' data-ref="message_advice_pull_before_push">message_advice_pull_before_push</dfn>[] =</td></tr>
<tr><th id="253">253</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;Updates were rejected because the tip of your current branch is behind\n&quot; &quot;its remote counterpart. Integrate the remote changes (e.g.\n&quot; &quot;&apos;git pull ...&apos;) before pushing again.\n&quot; &quot;See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.&quot;)" data-ref="_M/N_">N_</a>(<q>"Updates were rejected because the tip of your current branch is behind\n"</q></td></tr>
<tr><th id="254">254</th><td>	   <q>"its remote counterpart. Integrate the remote changes (e.g.\n"</q></td></tr>
<tr><th id="255">255</th><td>	   <q>"'git pull ...') before pushing again.\n"</q></td></tr>
<tr><th id="256">256</th><td>	   <q>"See the 'Note about fast-forwards' in 'git push --help' for details."</q>);</td></tr>
<tr><th id="257">257</th><td></td></tr>
<tr><th id="258">258</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_advice_checkout_pull_push" title='message_advice_checkout_pull_push' data-type='const char [252]' data-ref="message_advice_checkout_pull_push">message_advice_checkout_pull_push</dfn>[] =</td></tr>
<tr><th id="259">259</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;Updates were rejected because a pushed branch tip is behind its remote\n&quot; &quot;counterpart. Check out this branch and integrate the remote changes\n&quot; &quot;(e.g. &apos;git pull ...&apos;) before pushing again.\n&quot; &quot;See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.&quot;)" data-ref="_M/N_">N_</a>(<q>"Updates were rejected because a pushed branch tip is behind its remote\n"</q></td></tr>
<tr><th id="260">260</th><td>	   <q>"counterpart. Check out this branch and integrate the remote changes\n"</q></td></tr>
<tr><th id="261">261</th><td>	   <q>"(e.g. 'git pull ...') before pushing again.\n"</q></td></tr>
<tr><th id="262">262</th><td>	   <q>"See the 'Note about fast-forwards' in 'git push --help' for details."</q>);</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_advice_ref_fetch_first" title='message_advice_ref_fetch_first' data-type='const char [320]' data-ref="message_advice_ref_fetch_first">message_advice_ref_fetch_first</dfn>[] =</td></tr>
<tr><th id="265">265</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;Updates were rejected because the remote contains work that you do\n&quot; &quot;not have locally. This is usually caused by another repository pushing\n&quot; &quot;to the same ref. You may want to first integrate the remote changes\n&quot; &quot;(e.g., &apos;git pull ...&apos;) before pushing again.\n&quot; &quot;See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.&quot;)" data-ref="_M/N_">N_</a>(<q>"Updates were rejected because the remote contains work that you do\n"</q></td></tr>
<tr><th id="266">266</th><td>	   <q>"not have locally. This is usually caused by another repository pushing\n"</q></td></tr>
<tr><th id="267">267</th><td>	   <q>"to the same ref. You may want to first integrate the remote changes\n"</q></td></tr>
<tr><th id="268">268</th><td>	   <q>"(e.g., 'git pull ...') before pushing again.\n"</q></td></tr>
<tr><th id="269">269</th><td>	   <q>"See the 'Note about fast-forwards' in 'git push --help' for details."</q>);</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_advice_ref_already_exists" title='message_advice_ref_already_exists' data-type='const char [68]' data-ref="message_advice_ref_already_exists">message_advice_ref_already_exists</dfn>[] =</td></tr>
<tr><th id="272">272</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;Updates were rejected because the tag already exists in the remote.&quot;)" data-ref="_M/N_">N_</a>(<q>"Updates were rejected because the tag already exists in the remote."</q>);</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td><em>static</em> <em>const</em> <em>char</em> <dfn class="tu decl def" id="message_advice_ref_needs_force" title='message_advice_ref_needs_force' data-type='const char [168]' data-ref="message_advice_ref_needs_force">message_advice_ref_needs_force</dfn>[] =</td></tr>
<tr><th id="275">275</th><td>	<a class="macro" href="../gettext.h.html#89" title="(&quot;You cannot update a remote ref that points at a non-commit object,\n&quot; &quot;or update a remote ref to make it point at a non-commit object,\n&quot; &quot;without using the &apos;--force&apos; option.\n&quot;)" data-ref="_M/N_">N_</a>(<q>"You cannot update a remote ref that points at a non-commit object,\n"</q></td></tr>
<tr><th id="276">276</th><td>	   <q>"or update a remote ref to make it point at a non-commit object,\n"</q></td></tr>
<tr><th id="277">277</th><td>	   <q>"without using the '--force' option.\n"</q>);</td></tr>
<tr><th id="278">278</th><td></td></tr>
<tr><th id="279">279</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="advise_pull_before_push" title='advise_pull_before_push' data-type='void advise_pull_before_push()' data-ref="advise_pull_before_push">advise_pull_before_push</dfn>(<em>void</em>)</td></tr>
<tr><th id="280">280</th><td>{</td></tr>
<tr><th id="281">281</th><td>	<b>if</b> (!<a class="ref" href="../advice.h.html#advice_push_non_ff_current" title='advice_push_non_ff_current' data-ref="advice_push_non_ff_current">advice_push_non_ff_current</a> || !<a class="ref" href="../advice.h.html#advice_push_update_rejected" title='advice_push_update_rejected' data-ref="advice_push_update_rejected">advice_push_update_rejected</a>)</td></tr>
<tr><th id="282">282</th><td>		<b>return</b>;</td></tr>
<tr><th id="283">283</th><td>	<a class="ref" href="../advice.h.html#advise" title='advise' data-ref="advise">advise</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_advice_pull_before_push" title='message_advice_pull_before_push' data-use='r' data-ref="message_advice_pull_before_push">message_advice_pull_before_push</a>));</td></tr>
<tr><th id="284">284</th><td>}</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="advise_checkout_pull_push" title='advise_checkout_pull_push' data-type='void advise_checkout_pull_push()' data-ref="advise_checkout_pull_push">advise_checkout_pull_push</dfn>(<em>void</em>)</td></tr>
<tr><th id="287">287</th><td>{</td></tr>
<tr><th id="288">288</th><td>	<b>if</b> (!<a class="ref" href="../advice.h.html#advice_push_non_ff_matching" title='advice_push_non_ff_matching' data-ref="advice_push_non_ff_matching">advice_push_non_ff_matching</a> || !<a class="ref" href="../advice.h.html#advice_push_update_rejected" title='advice_push_update_rejected' data-ref="advice_push_update_rejected">advice_push_update_rejected</a>)</td></tr>
<tr><th id="289">289</th><td>		<b>return</b>;</td></tr>
<tr><th id="290">290</th><td>	<a class="ref" href="../advice.h.html#advise" title='advise' data-ref="advise">advise</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_advice_checkout_pull_push" title='message_advice_checkout_pull_push' data-use='r' data-ref="message_advice_checkout_pull_push">message_advice_checkout_pull_push</a>));</td></tr>
<tr><th id="291">291</th><td>}</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="advise_ref_already_exists" title='advise_ref_already_exists' data-type='void advise_ref_already_exists()' data-ref="advise_ref_already_exists">advise_ref_already_exists</dfn>(<em>void</em>)</td></tr>
<tr><th id="294">294</th><td>{</td></tr>
<tr><th id="295">295</th><td>	<b>if</b> (!<a class="ref" href="../advice.h.html#advice_push_already_exists" title='advice_push_already_exists' data-ref="advice_push_already_exists">advice_push_already_exists</a> || !<a class="ref" href="../advice.h.html#advice_push_update_rejected" title='advice_push_update_rejected' data-ref="advice_push_update_rejected">advice_push_update_rejected</a>)</td></tr>
<tr><th id="296">296</th><td>		<b>return</b>;</td></tr>
<tr><th id="297">297</th><td>	<a class="ref" href="../advice.h.html#advise" title='advise' data-ref="advise">advise</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_advice_ref_already_exists" title='message_advice_ref_already_exists' data-use='r' data-ref="message_advice_ref_already_exists">message_advice_ref_already_exists</a>));</td></tr>
<tr><th id="298">298</th><td>}</td></tr>
<tr><th id="299">299</th><td></td></tr>
<tr><th id="300">300</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="advise_ref_fetch_first" title='advise_ref_fetch_first' data-type='void advise_ref_fetch_first()' data-ref="advise_ref_fetch_first">advise_ref_fetch_first</dfn>(<em>void</em>)</td></tr>
<tr><th id="301">301</th><td>{</td></tr>
<tr><th id="302">302</th><td>	<b>if</b> (!<a class="ref" href="../advice.h.html#advice_push_fetch_first" title='advice_push_fetch_first' data-ref="advice_push_fetch_first">advice_push_fetch_first</a> || !<a class="ref" href="../advice.h.html#advice_push_update_rejected" title='advice_push_update_rejected' data-ref="advice_push_update_rejected">advice_push_update_rejected</a>)</td></tr>
<tr><th id="303">303</th><td>		<b>return</b>;</td></tr>
<tr><th id="304">304</th><td>	<a class="ref" href="../advice.h.html#advise" title='advise' data-ref="advise">advise</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_advice_ref_fetch_first" title='message_advice_ref_fetch_first' data-use='r' data-ref="message_advice_ref_fetch_first">message_advice_ref_fetch_first</a>));</td></tr>
<tr><th id="305">305</th><td>}</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="advise_ref_needs_force" title='advise_ref_needs_force' data-type='void advise_ref_needs_force()' data-ref="advise_ref_needs_force">advise_ref_needs_force</dfn>(<em>void</em>)</td></tr>
<tr><th id="308">308</th><td>{</td></tr>
<tr><th id="309">309</th><td>	<b>if</b> (!<a class="ref" href="../advice.h.html#advice_push_needs_force" title='advice_push_needs_force' data-ref="advice_push_needs_force">advice_push_needs_force</a> || !<a class="ref" href="../advice.h.html#advice_push_update_rejected" title='advice_push_update_rejected' data-ref="advice_push_update_rejected">advice_push_update_rejected</a>)</td></tr>
<tr><th id="310">310</th><td>		<b>return</b>;</td></tr>
<tr><th id="311">311</th><td>	<a class="ref" href="../advice.h.html#advise" title='advise' data-ref="advise">advise</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<a class="tu ref" href="#message_advice_ref_needs_force" title='message_advice_ref_needs_force' data-use='r' data-ref="message_advice_ref_needs_force">message_advice_ref_needs_force</a>));</td></tr>
<tr><th id="312">312</th><td>}</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="push_with_options" title='push_with_options' data-type='int push_with_options(struct transport * transport, int flags)' data-ref="push_with_options">push_with_options</dfn>(<b>struct</b> <a class="type" href="../transport.h.html#transport" title='transport' data-ref="transport">transport</a> *<dfn class="local col6 decl" id="46transport" title='transport' data-type='struct transport *' data-ref="46transport">transport</dfn>, <em>int</em> <dfn class="local col7 decl" id="47flags" title='flags' data-type='int' data-ref="47flags">flags</dfn>)</td></tr>
<tr><th id="315">315</th><td>{</td></tr>
<tr><th id="316">316</th><td>	<em>int</em> <dfn class="local col8 decl" id="48err" title='err' data-type='int' data-ref="48err">err</dfn>;</td></tr>
<tr><th id="317">317</th><td>	<em>unsigned</em> <em>int</em> <dfn class="local col9 decl" id="49reject_reasons" title='reject_reasons' data-type='unsigned int' data-ref="49reject_reasons">reject_reasons</dfn>;</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>	<a class="ref" href="../transport.h.html#transport_set_verbosity" title='transport_set_verbosity' data-ref="transport_set_verbosity">transport_set_verbosity</a>(<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>, <a class="tu ref" href="#verbosity" title='verbosity' data-use='r' data-ref="verbosity">verbosity</a>, <a class="tu ref" href="#progress" title='progress' data-use='r' data-ref="progress">progress</a>);</td></tr>
<tr><th id="320">320</th><td>	<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::family" title='transport::family' data-ref="transport::family">family</a> = <a class="tu ref" href="#family" title='family' data-use='r' data-ref="family">family</a>;</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>	<b>if</b> (<a class="tu ref" href="#receivepack" title='receivepack' data-use='r' data-ref="receivepack">receivepack</a>)</td></tr>
<tr><th id="323">323</th><td>		<a class="ref" href="../transport.h.html#transport_set_option" title='transport_set_option' data-ref="transport_set_option">transport_set_option</a>(<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>,</td></tr>
<tr><th id="324">324</th><td>				     <a class="macro" href="../transport.h.html#181" title="&quot;receivepack&quot;" data-ref="_M/TRANS_OPT_RECEIVEPACK">TRANS_OPT_RECEIVEPACK</a>, <a class="tu ref" href="#receivepack" title='receivepack' data-use='r' data-ref="receivepack">receivepack</a>);</td></tr>
<tr><th id="325">325</th><td>	<a class="ref" href="../transport.h.html#transport_set_option" title='transport_set_option' data-ref="transport_set_option">transport_set_option</a>(<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>, <a class="macro" href="../transport.h.html#184" title="&quot;thin&quot;" data-ref="_M/TRANS_OPT_THIN">TRANS_OPT_THIN</a>, <a class="tu ref" href="#thin" title='thin' data-use='r' data-ref="thin">thin</a> ? <q>"yes"</q> : <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td>	<b>if</b> (!<a class="ref" href="../remote.h.html#is_empty_cas" title='is_empty_cas' data-ref="is_empty_cas">is_empty_cas</a>(&amp;<a class="tu ref" href="#cas" title='cas' data-use='a' data-ref="cas">cas</a>)) {</td></tr>
<tr><th id="328">328</th><td>		<b>if</b> (!<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::smart_options" title='transport::smart_options' data-ref="transport::smart_options">smart_options</a>)</td></tr>
<tr><th id="329">329</th><td>			<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<q>"underlying transport does not support --%s option"</q>,</td></tr>
<tr><th id="330">330</th><td>			    <a class="macro" href="../remote.h.html#280" title="&quot;force-with-lease&quot;" data-ref="_M/CAS_OPT_NAME">CAS_OPT_NAME</a>);</td></tr>
<tr><th id="331">331</th><td>		<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::smart_options" title='transport::smart_options' data-ref="transport::smart_options">smart_options</a>-&gt;<a class="ref" href="../transport.h.html#git_transport_options::cas" title='git_transport_options::cas' data-ref="git_transport_options::cas">cas</a> = &amp;<a class="tu ref" href="#cas" title='cas' data-use='a' data-ref="cas">cas</a>;</td></tr>
<tr><th id="332">332</th><td>	}</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>	<b>if</b> (<a class="tu ref" href="#verbosity" title='verbosity' data-use='r' data-ref="verbosity">verbosity</a> &gt; <var>0</var>)</td></tr>
<tr><th id="335">335</th><td>		<a class="ref" href="../../include/stdio.h.html#fprintf" title='fprintf' data-ref="fprintf">fprintf</a>(<a class="macro" href="../../include/stdio.h.html#174" title="stderr" data-ref="_M/stderr">stderr</a>, <a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"Pushing to %s\n"</q>), <a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::url" title='transport::url' data-ref="transport::url">url</a>);</td></tr>
<tr><th id="336">336</th><td>	<a class="local col8 ref" href="#48err" title='err' data-ref="48err">err</a> = <a class="ref" href="../transport.h.html#transport_push" title='transport_push' data-ref="transport_push">transport_push</a>(<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>, <a class="tu ref" href="#refspec_nr" title='refspec_nr' data-use='r' data-ref="refspec_nr">refspec_nr</a>, <a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>, <a class="local col7 ref" href="#47flags" title='flags' data-ref="47flags">flags</a>,</td></tr>
<tr><th id="337">337</th><td>			     &amp;<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a>);</td></tr>
<tr><th id="338">338</th><td>	<b>if</b> (<a class="local col8 ref" href="#48err" title='err' data-ref="48err">err</a> != <var>0</var>)</td></tr>
<tr><th id="339">339</th><td>		<a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;failed to push some refs to &apos;%s&apos;&quot;), transport-&gt;url), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"failed to push some refs to '%s'"</q>), <a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::url" title='transport::url' data-ref="transport::url">url</a>);</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td>	<a class="local col8 ref" href="#48err" title='err' data-ref="48err">err</a> |= <a class="ref" href="../transport.h.html#transport_disconnect" title='transport_disconnect' data-ref="transport_disconnect">transport_disconnect</a>(<a class="local col6 ref" href="#46transport" title='transport' data-ref="46transport">transport</a>);</td></tr>
<tr><th id="342">342</th><td>	<b>if</b> (!<a class="local col8 ref" href="#48err" title='err' data-ref="48err">err</a>)</td></tr>
<tr><th id="343">343</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="344">344</th><td></td></tr>
<tr><th id="345">345</th><td>	<b>if</b> (<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a> &amp; <a class="macro" href="../transport.h.html#222" title="0x01" data-ref="_M/REJECT_NON_FF_HEAD">REJECT_NON_FF_HEAD</a>) {</td></tr>
<tr><th id="346">346</th><td>		<a class="tu ref" href="#advise_pull_before_push" title='advise_pull_before_push' data-use='c' data-ref="advise_pull_before_push">advise_pull_before_push</a>();</td></tr>
<tr><th id="347">347</th><td>	} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a> &amp; <a class="macro" href="../transport.h.html#223" title="0x02" data-ref="_M/REJECT_NON_FF_OTHER">REJECT_NON_FF_OTHER</a>) {</td></tr>
<tr><th id="348">348</th><td>		<a class="tu ref" href="#advise_checkout_pull_push" title='advise_checkout_pull_push' data-use='c' data-ref="advise_checkout_pull_push">advise_checkout_pull_push</a>();</td></tr>
<tr><th id="349">349</th><td>	} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a> &amp; <a class="macro" href="../transport.h.html#224" title="0x04" data-ref="_M/REJECT_ALREADY_EXISTS">REJECT_ALREADY_EXISTS</a>) {</td></tr>
<tr><th id="350">350</th><td>		<a class="tu ref" href="#advise_ref_already_exists" title='advise_ref_already_exists' data-use='c' data-ref="advise_ref_already_exists">advise_ref_already_exists</a>();</td></tr>
<tr><th id="351">351</th><td>	} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a> &amp; <a class="macro" href="../transport.h.html#225" title="0x08" data-ref="_M/REJECT_FETCH_FIRST">REJECT_FETCH_FIRST</a>) {</td></tr>
<tr><th id="352">352</th><td>		<a class="tu ref" href="#advise_ref_fetch_first" title='advise_ref_fetch_first' data-use='c' data-ref="advise_ref_fetch_first">advise_ref_fetch_first</a>();</td></tr>
<tr><th id="353">353</th><td>	} <b>else</b> <b>if</b> (<a class="local col9 ref" href="#49reject_reasons" title='reject_reasons' data-ref="49reject_reasons">reject_reasons</a> &amp; <a class="macro" href="../transport.h.html#226" title="0x10" data-ref="_M/REJECT_NEEDS_FORCE">REJECT_NEEDS_FORCE</a>) {</td></tr>
<tr><th id="354">354</th><td>		<a class="tu ref" href="#advise_ref_needs_force" title='advise_ref_needs_force' data-use='c' data-ref="advise_ref_needs_force">advise_ref_needs_force</a>();</td></tr>
<tr><th id="355">355</th><td>	}</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>	<b>return</b> <var>1</var>;</td></tr>
<tr><th id="358">358</th><td>}</td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="do_push" title='do_push' data-type='int do_push(const char * repo, int flags, const struct string_list * push_options)' data-ref="do_push">do_push</dfn>(<em>const</em> <em>char</em> *<dfn class="local col0 decl" id="50repo" title='repo' data-type='const char *' data-ref="50repo">repo</dfn>, <em>int</em> <dfn class="local col1 decl" id="51flags" title='flags' data-type='int' data-ref="51flags">flags</dfn>,</td></tr>
<tr><th id="361">361</th><td>		   <em>const</em> <b>struct</b> <a class="type" href="../string-list.h.html#string_list" title='string_list' data-ref="string_list">string_list</a> *<dfn class="local col2 decl" id="52push_options" title='push_options' data-type='const struct string_list *' data-ref="52push_options">push_options</dfn>)</td></tr>
<tr><th id="362">362</th><td>{</td></tr>
<tr><th id="363">363</th><td>	<em>int</em> <dfn class="local col3 decl" id="53i" title='i' data-type='int' data-ref="53i">i</dfn>, <dfn class="local col4 decl" id="54errs" title='errs' data-type='int' data-ref="54errs">errs</dfn>;</td></tr>
<tr><th id="364">364</th><td>	<b>struct</b> <a class="type" href="../remote.h.html#remote" title='remote' data-ref="remote">remote</a> *<dfn class="local col5 decl" id="55remote" title='remote' data-type='struct remote *' data-ref="55remote">remote</dfn> = <a class="ref" href="../remote.h.html#pushremote_get" title='pushremote_get' data-ref="pushremote_get">pushremote_get</a>(<a class="local col0 ref" href="#50repo" title='repo' data-ref="50repo">repo</a>);</td></tr>
<tr><th id="365">365</th><td>	<em>const</em> <em>char</em> **<dfn class="local col6 decl" id="56url" title='url' data-type='const char **' data-ref="56url">url</dfn>;</td></tr>
<tr><th id="366">366</th><td>	<em>int</em> <dfn class="local col7 decl" id="57url_nr" title='url_nr' data-type='int' data-ref="57url_nr">url_nr</dfn>;</td></tr>
<tr><th id="367">367</th><td></td></tr>
<tr><th id="368">368</th><td>	<b>if</b> (!<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>) {</td></tr>
<tr><th id="369">369</th><td>		<b>if</b> (<a class="local col0 ref" href="#50repo" title='repo' data-ref="50repo">repo</a>)</td></tr>
<tr><th id="370">370</th><td>			<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"bad repository '%s'"</q>), <a class="local col0 ref" href="#50repo" title='repo' data-ref="50repo">repo</a>);</td></tr>
<tr><th id="371">371</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"No configured push destination.\n"</q></td></tr>
<tr><th id="372">372</th><td>		    <q>"Either specify the URL from the command-line or configure a remote repository using\n"</q></td></tr>
<tr><th id="373">373</th><td>		    <q>"\n"</q></td></tr>
<tr><th id="374">374</th><td>		    <q>"    git remote add &lt;name&gt; &lt;url&gt;\n"</q></td></tr>
<tr><th id="375">375</th><td>		    <q>"\n"</q></td></tr>
<tr><th id="376">376</th><td>		    <q>"and then push using the remote name\n"</q></td></tr>
<tr><th id="377">377</th><td>		    <q>"\n"</q></td></tr>
<tr><th id="378">378</th><td>		    <q>"    git push &lt;name&gt;\n"</q>));</td></tr>
<tr><th id="379">379</th><td>	}</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td>	<b>if</b> (<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::mirror" title='remote::mirror' data-ref="remote::mirror">mirror</a>)</td></tr>
<tr><th id="382">382</th><td>		<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> |= (<a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>|<a class="macro" href="../transport.h.html#135" title="(1&lt;&lt;1)" data-ref="_M/TRANSPORT_PUSH_FORCE">TRANSPORT_PUSH_FORCE</a>);</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td>	<b>if</b> (<a class="local col2 ref" href="#52push_options" title='push_options' data-ref="52push_options">push_options</a>-&gt;<a class="ref" href="../string-list.h.html#string_list::nr" title='string_list::nr' data-ref="string_list::nr">nr</a>)</td></tr>
<tr><th id="385">385</th><td>		<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> |= <a class="macro" href="../transport.h.html#148" title="(1&lt;&lt;14)" data-ref="_M/TRANSPORT_PUSH_OPTIONS">TRANSPORT_PUSH_OPTIONS</a>;</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td>	<b>if</b> ((<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a>) &amp;&amp; <a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>) {</td></tr>
<tr><th id="388">388</th><td>		<b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (*refspec) &amp;&amp; __builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; (__s1_len = __builtin_strlen (*refspec), __s2_len = __builtin_strlen (&quot;refs/tags/*&quot;), (!((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (__builtin_constant_p (*refspec) &amp;&amp; ((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) &amp;&amp; (__s1_len = __builtin_strlen (*refspec), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; ((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;refs/tags/*&quot;); int __result = (((const unsigned char *) (const char *) (*refspec))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (*refspec))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (*refspec))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (*refspec))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; ((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;refs/tags/*&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (*refspec) &amp;&amp; ((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (*refspec); int __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(*<a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>, <q>"refs/tags/*"</q>))</td></tr>
<tr><th id="389">389</th><td>			<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;--all and --tags are incompatible&quot;)), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--all and --tags are incompatible"</q>));</td></tr>
<tr><th id="390">390</th><td>		<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;--all can&apos;t be combined with refspecs&quot;)), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--all can't be combined with refspecs"</q>));</td></tr>
<tr><th id="391">391</th><td>	}</td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>	<b>if</b> ((<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>) &amp;&amp; <a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>) {</td></tr>
<tr><th id="394">394</th><td>		<b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (*refspec) &amp;&amp; __builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; (__s1_len = __builtin_strlen (*refspec), __s2_len = __builtin_strlen (&quot;refs/tags/*&quot;), (!((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (__builtin_constant_p (*refspec) &amp;&amp; ((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) &amp;&amp; (__s1_len = __builtin_strlen (*refspec), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; ((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;refs/tags/*&quot;); int __result = (((const unsigned char *) (const char *) (*refspec))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (*refspec))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (*refspec))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (*refspec))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;refs/tags/*&quot;) &amp;&amp; ((size_t)(const void *)((&quot;refs/tags/*&quot;) + 1) - (size_t)(const void *)(&quot;refs/tags/*&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;refs/tags/*&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (*refspec) &amp;&amp; ((size_t)(const void *)((*refspec) + 1) - (size_t)(const void *)(*refspec) == 1) ? __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (*refspec); int __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;refs/tags/*&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (*refspec, &quot;refs/tags/*&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(*<a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a>, <q>"refs/tags/*"</q>))</td></tr>
<tr><th id="395">395</th><td>			<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;--mirror and --tags are incompatible&quot;)), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--mirror and --tags are incompatible"</q>));</td></tr>
<tr><th id="396">396</th><td>		<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;--mirror can&apos;t be combined with refspecs&quot;)), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--mirror can't be combined with refspecs"</q>));</td></tr>
<tr><th id="397">397</th><td>	}</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td>	<b>if</b> ((<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; (<a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a>|<a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>)) ==</td></tr>
<tr><th id="400">400</th><td>				(<a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a>|<a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>)) {</td></tr>
<tr><th id="401">401</th><td>		<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(_(&quot;--all and --mirror are incompatible&quot;)), const_error())" data-ref="_M/error">error</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--all and --mirror are incompatible"</q>));</td></tr>
<tr><th id="402">402</th><td>	}</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td>	<b>if</b> (!<a class="tu ref" href="#refspec" title='refspec' data-use='r' data-ref="refspec">refspec</a> &amp;&amp; !(<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a>)) {</td></tr>
<tr><th id="405">405</th><td>		<b>if</b> (<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push_refspec_nr" title='remote::push_refspec_nr' data-ref="remote::push_refspec_nr">push_refspec_nr</a>) {</td></tr>
<tr><th id="406">406</th><td>			<a class="tu ref" href="#refspec" title='refspec' data-use='w' data-ref="refspec">refspec</a> = <a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push_refspec" title='remote::push_refspec' data-ref="remote::push_refspec">push_refspec</a>;</td></tr>
<tr><th id="407">407</th><td>			<a class="tu ref" href="#refspec_nr" title='refspec_nr' data-use='w' data-ref="refspec_nr">refspec_nr</a> = <a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>-&gt;<a class="ref" href="../remote.h.html#remote::push_refspec_nr" title='remote::push_refspec_nr' data-ref="remote::push_refspec_nr">push_refspec_nr</a>;</td></tr>
<tr><th id="408">408</th><td>		} <b>else</b> <b>if</b> (!(<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>))</td></tr>
<tr><th id="409">409</th><td>			<a class="tu ref" href="#setup_default_push_refspecs" title='setup_default_push_refspecs' data-use='c' data-ref="setup_default_push_refspecs">setup_default_push_refspecs</a>(<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>);</td></tr>
<tr><th id="410">410</th><td>	}</td></tr>
<tr><th id="411">411</th><td>	<a class="local col4 ref" href="#54errs" title='errs' data-ref="54errs">errs</a> = <var>0</var>;</td></tr>
<tr><th id="412">412</th><td>	<a class="local col7 ref" href="#57url_nr" title='url_nr' data-ref="57url_nr">url_nr</a> = <a class="tu ref" href="#push_url_of_remote" title='push_url_of_remote' data-use='c' data-ref="push_url_of_remote">push_url_of_remote</a>(<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>, &amp;<a class="local col6 ref" href="#56url" title='url' data-ref="56url">url</a>);</td></tr>
<tr><th id="413">413</th><td>	<b>if</b> (<a class="local col7 ref" href="#57url_nr" title='url_nr' data-ref="57url_nr">url_nr</a>) {</td></tr>
<tr><th id="414">414</th><td>		<b>for</b> (<a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a> = <var>0</var>; <a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a> &lt; <a class="local col7 ref" href="#57url_nr" title='url_nr' data-ref="57url_nr">url_nr</a>; <a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a>++) {</td></tr>
<tr><th id="415">415</th><td>			<b>struct</b> <a class="type" href="../transport.h.html#transport" title='transport' data-ref="transport">transport</a> *<dfn class="local col8 decl" id="58transport" title='transport' data-type='struct transport *' data-ref="58transport">transport</dfn> =</td></tr>
<tr><th id="416">416</th><td>				<a class="ref" href="../transport.h.html#transport_get" title='transport_get' data-ref="transport_get">transport_get</a>(<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>, <a class="local col6 ref" href="#56url" title='url' data-ref="56url">url</a>[<a class="local col3 ref" href="#53i" title='i' data-ref="53i">i</a>]);</td></tr>
<tr><th id="417">417</th><td>			<b>if</b> (<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#148" title="(1&lt;&lt;14)" data-ref="_M/TRANSPORT_PUSH_OPTIONS">TRANSPORT_PUSH_OPTIONS</a>)</td></tr>
<tr><th id="418">418</th><td>				<a class="local col8 ref" href="#58transport" title='transport' data-ref="58transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::push_options" title='transport::push_options' data-ref="transport::push_options">push_options</a> = <a class="local col2 ref" href="#52push_options" title='push_options' data-ref="52push_options">push_options</a>;</td></tr>
<tr><th id="419">419</th><td>			<b>if</b> (<a class="tu ref" href="#push_with_options" title='push_with_options' data-use='c' data-ref="push_with_options">push_with_options</a>(<a class="local col8 ref" href="#58transport" title='transport' data-ref="58transport">transport</a>, <a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a>))</td></tr>
<tr><th id="420">420</th><td>				<a class="local col4 ref" href="#54errs" title='errs' data-ref="54errs">errs</a>++;</td></tr>
<tr><th id="421">421</th><td>		}</td></tr>
<tr><th id="422">422</th><td>	} <b>else</b> {</td></tr>
<tr><th id="423">423</th><td>		<b>struct</b> <a class="type" href="../transport.h.html#transport" title='transport' data-ref="transport">transport</a> *<dfn class="local col9 decl" id="59transport" title='transport' data-type='struct transport *' data-ref="59transport">transport</dfn> =</td></tr>
<tr><th id="424">424</th><td>			<a class="ref" href="../transport.h.html#transport_get" title='transport_get' data-ref="transport_get">transport_get</a>(<a class="local col5 ref" href="#55remote" title='remote' data-ref="55remote">remote</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="425">425</th><td>		<b>if</b> (<a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a> &amp; <a class="macro" href="../transport.h.html#148" title="(1&lt;&lt;14)" data-ref="_M/TRANSPORT_PUSH_OPTIONS">TRANSPORT_PUSH_OPTIONS</a>)</td></tr>
<tr><th id="426">426</th><td>			<a class="local col9 ref" href="#59transport" title='transport' data-ref="59transport">transport</a>-&gt;<a class="ref" href="../transport.h.html#transport::push_options" title='transport::push_options' data-ref="transport::push_options">push_options</a> = <a class="local col2 ref" href="#52push_options" title='push_options' data-ref="52push_options">push_options</a>;</td></tr>
<tr><th id="427">427</th><td>		<b>if</b> (<a class="tu ref" href="#push_with_options" title='push_with_options' data-use='c' data-ref="push_with_options">push_with_options</a>(<a class="local col9 ref" href="#59transport" title='transport' data-ref="59transport">transport</a>, <a class="local col1 ref" href="#51flags" title='flags' data-ref="51flags">flags</a>))</td></tr>
<tr><th id="428">428</th><td>			<a class="local col4 ref" href="#54errs" title='errs' data-ref="54errs">errs</a>++;</td></tr>
<tr><th id="429">429</th><td>	}</td></tr>
<tr><th id="430">430</th><td>	<b>return</b> !!<a class="local col4 ref" href="#54errs" title='errs' data-ref="54errs">errs</a>;</td></tr>
<tr><th id="431">431</th><td>}</td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="option_parse_recurse_submodules" title='option_parse_recurse_submodules' data-type='int option_parse_recurse_submodules(const struct option * opt, const char * arg, int unset)' data-ref="option_parse_recurse_submodules">option_parse_recurse_submodules</dfn>(<em>const</em> <b>struct</b> <a class="type" href="../parse-options.h.html#option" title='option' data-ref="option">option</a> *<dfn class="local col0 decl" id="60opt" title='opt' data-type='const struct option *' data-ref="60opt">opt</dfn>,</td></tr>
<tr><th id="434">434</th><td>				   <em>const</em> <em>char</em> *<dfn class="local col1 decl" id="61arg" title='arg' data-type='const char *' data-ref="61arg">arg</dfn>, <em>int</em> <dfn class="local col2 decl" id="62unset" title='unset' data-type='int' data-ref="62unset">unset</dfn>)</td></tr>
<tr><th id="435">435</th><td>{</td></tr>
<tr><th id="436">436</th><td>	<em>int</em> *<dfn class="local col3 decl" id="63recurse_submodules" title='recurse_submodules' data-type='int *' data-ref="63recurse_submodules">recurse_submodules</dfn> = <a class="local col0 ref" href="#60opt" title='opt' data-ref="60opt">opt</a>-&gt;<a class="ref" href="../parse-options.h.html#option::value" title='option::value' data-ref="option::value">value</a>;</td></tr>
<tr><th id="437">437</th><td></td></tr>
<tr><th id="438">438</th><td>	<b>if</b> (<a class="local col2 ref" href="#62unset" title='unset' data-ref="62unset">unset</a>)</td></tr>
<tr><th id="439">439</th><td>		*<a class="local col3 ref" href="#63recurse_submodules" title='recurse_submodules' data-ref="63recurse_submodules">recurse_submodules</a> = <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_OFF" title='RECURSE_SUBMODULES_OFF' data-ref="RECURSE_SUBMODULES_OFF">RECURSE_SUBMODULES_OFF</a>;</td></tr>
<tr><th id="440">440</th><td>	<b>else</b> <b>if</b> (<a class="local col1 ref" href="#61arg" title='arg' data-ref="61arg">arg</a>)</td></tr>
<tr><th id="441">441</th><td>		*<a class="local col3 ref" href="#63recurse_submodules" title='recurse_submodules' data-ref="63recurse_submodules">recurse_submodules</a> = <a class="ref" href="../submodule-config.h.html#parse_push_recurse_submodules_arg" title='parse_push_recurse_submodules_arg' data-ref="parse_push_recurse_submodules_arg">parse_push_recurse_submodules_arg</a>(<a class="local col0 ref" href="#60opt" title='opt' data-ref="60opt">opt</a>-&gt;<a class="ref" href="../parse-options.h.html#option::long_name" title='option::long_name' data-ref="option::long_name">long_name</a>, <a class="local col1 ref" href="#61arg" title='arg' data-ref="61arg">arg</a>);</td></tr>
<tr><th id="442">442</th><td>	<b>else</b></td></tr>
<tr><th id="443">443</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<q>"%s missing parameter"</q>, <a class="local col0 ref" href="#60opt" title='opt' data-ref="60opt">opt</a>-&gt;<a class="ref" href="../parse-options.h.html#option::long_name" title='option::long_name' data-ref="option::long_name">long_name</a>);</td></tr>
<tr><th id="444">444</th><td></td></tr>
<tr><th id="445">445</th><td>	<b>return</b> <var>0</var>;</td></tr>
<tr><th id="446">446</th><td>}</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="set_push_cert_flags" title='set_push_cert_flags' data-type='void set_push_cert_flags(int * flags, int v)' data-ref="set_push_cert_flags">set_push_cert_flags</dfn>(<em>int</em> *<dfn class="local col4 decl" id="64flags" title='flags' data-type='int *' data-ref="64flags">flags</dfn>, <em>int</em> <dfn class="local col5 decl" id="65v" title='v' data-type='int' data-ref="65v">v</dfn>)</td></tr>
<tr><th id="449">449</th><td>{</td></tr>
<tr><th id="450">450</th><td>	<b>switch</b> (<a class="local col5 ref" href="#65v" title='v' data-ref="65v">v</a>) {</td></tr>
<tr><th id="451">451</th><td>	<b>case</b> <a class="macro" href="../send-pack.h.html#7" title="0" data-ref="_M/SEND_PACK_PUSH_CERT_NEVER">SEND_PACK_PUSH_CERT_NEVER</a>:</td></tr>
<tr><th id="452">452</th><td>		*<a class="local col4 ref" href="#64flags" title='flags' data-ref="64flags">flags</a> &amp;= ~(<a class="macro" href="../transport.h.html#145" title="(1&lt;&lt;11)" data-ref="_M/TRANSPORT_PUSH_CERT_ALWAYS">TRANSPORT_PUSH_CERT_ALWAYS</a> | <a class="macro" href="../transport.h.html#146" title="(1&lt;&lt;12)" data-ref="_M/TRANSPORT_PUSH_CERT_IF_ASKED">TRANSPORT_PUSH_CERT_IF_ASKED</a>);</td></tr>
<tr><th id="453">453</th><td>		<b>break</b>;</td></tr>
<tr><th id="454">454</th><td>	<b>case</b> <a class="macro" href="../send-pack.h.html#9" title="2" data-ref="_M/SEND_PACK_PUSH_CERT_ALWAYS">SEND_PACK_PUSH_CERT_ALWAYS</a>:</td></tr>
<tr><th id="455">455</th><td>		*<a class="local col4 ref" href="#64flags" title='flags' data-ref="64flags">flags</a> |= <a class="macro" href="../transport.h.html#145" title="(1&lt;&lt;11)" data-ref="_M/TRANSPORT_PUSH_CERT_ALWAYS">TRANSPORT_PUSH_CERT_ALWAYS</a>;</td></tr>
<tr><th id="456">456</th><td>		*<a class="local col4 ref" href="#64flags" title='flags' data-ref="64flags">flags</a> &amp;= ~<a class="macro" href="../transport.h.html#146" title="(1&lt;&lt;12)" data-ref="_M/TRANSPORT_PUSH_CERT_IF_ASKED">TRANSPORT_PUSH_CERT_IF_ASKED</a>;</td></tr>
<tr><th id="457">457</th><td>		<b>break</b>;</td></tr>
<tr><th id="458">458</th><td>	<b>case</b> <a class="macro" href="../send-pack.h.html#8" title="1" data-ref="_M/SEND_PACK_PUSH_CERT_IF_ASKED">SEND_PACK_PUSH_CERT_IF_ASKED</a>:</td></tr>
<tr><th id="459">459</th><td>		*<a class="local col4 ref" href="#64flags" title='flags' data-ref="64flags">flags</a> |= <a class="macro" href="../transport.h.html#146" title="(1&lt;&lt;12)" data-ref="_M/TRANSPORT_PUSH_CERT_IF_ASKED">TRANSPORT_PUSH_CERT_IF_ASKED</a>;</td></tr>
<tr><th id="460">460</th><td>		*<a class="local col4 ref" href="#64flags" title='flags' data-ref="64flags">flags</a> &amp;= ~<a class="macro" href="../transport.h.html#145" title="(1&lt;&lt;11)" data-ref="_M/TRANSPORT_PUSH_CERT_ALWAYS">TRANSPORT_PUSH_CERT_ALWAYS</a>;</td></tr>
<tr><th id="461">461</th><td>		<b>break</b>;</td></tr>
<tr><th id="462">462</th><td>	}</td></tr>
<tr><th id="463">463</th><td>}</td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="git_push_config" title='git_push_config' data-type='int git_push_config(const char * k, const char * v, void * cb)' data-ref="git_push_config">git_push_config</dfn>(<em>const</em> <em>char</em> *<dfn class="local col6 decl" id="66k" title='k' data-type='const char *' data-ref="66k">k</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="67v" title='v' data-type='const char *' data-ref="67v">v</dfn>, <em>void</em> *<dfn class="local col8 decl" id="68cb" title='cb' data-type='void *' data-ref="68cb">cb</dfn>)</td></tr>
<tr><th id="467">467</th><td>{</td></tr>
<tr><th id="468">468</th><td>	<em>int</em> *<dfn class="local col9 decl" id="69flags" title='flags' data-type='int *' data-ref="69flags">flags</dfn> = <a class="local col8 ref" href="#68cb" title='cb' data-ref="68cb">cb</a>;</td></tr>
<tr><th id="469">469</th><td>	<em>int</em> <dfn class="local col0 decl" id="70status" title='status' data-type='int' data-ref="70status">status</dfn>;</td></tr>
<tr><th id="470">470</th><td></td></tr>
<tr><th id="471">471</th><td>	<a class="local col0 ref" href="#70status" title='status' data-ref="70status">status</a> = <a class="ref" href="../gpg-interface.h.html#git_gpg_config" title='git_gpg_config' data-ref="git_gpg_config">git_gpg_config</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <a class="local col7 ref" href="#67v" title='v' data-ref="67v">v</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="472">472</th><td>	<b>if</b> (<a class="local col0 ref" href="#70status" title='status' data-ref="70status">status</a>)</td></tr>
<tr><th id="473">473</th><td>		<b>return</b> <a class="local col0 ref" href="#70status" title='status' data-ref="70status">status</a>;</td></tr>
<tr><th id="474">474</th><td></td></tr>
<tr><th id="475">475</th><td>	<b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (k) &amp;&amp; __builtin_constant_p (&quot;push.followtags&quot;) &amp;&amp; (__s1_len = __builtin_strlen (k), __s2_len = __builtin_strlen (&quot;push.followtags&quot;), (!((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;push.followtags&quot;) + 1) - (size_t)(const void *)(&quot;push.followtags&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (k, &quot;push.followtags&quot;) : (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) &amp;&amp; (__s1_len = __builtin_strlen (k), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;push.followtags&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.followtags&quot;) + 1) - (size_t)(const void *)(&quot;push.followtags&quot;) == 1) ? __builtin_strcmp (k, &quot;push.followtags&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;push.followtags&quot;); int __result = (((const unsigned char *) (const char *) (k))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (k))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;push.followtags&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.followtags&quot;) + 1) - (size_t)(const void *)(&quot;push.followtags&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;push.followtags&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) ? __builtin_strcmp (k, &quot;push.followtags&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (k); int __result = (((const unsigned char *) (const char *) (&quot;push.followtags&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.followtags&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.followtags&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;push.followtags&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (k, &quot;push.followtags&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <q>"push.followtags"</q>)) {</td></tr>
<tr><th id="476">476</th><td>		<b>if</b> (<a class="ref" href="../config.h.html#git_config_bool" title='git_config_bool' data-ref="git_config_bool">git_config_bool</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <a class="local col7 ref" href="#67v" title='v' data-ref="67v">v</a>))</td></tr>
<tr><th id="477">477</th><td>			*<a class="local col9 ref" href="#69flags" title='flags' data-ref="69flags">flags</a> |= <a class="macro" href="../transport.h.html#144" title="(1&lt;&lt;10)" data-ref="_M/TRANSPORT_PUSH_FOLLOW_TAGS">TRANSPORT_PUSH_FOLLOW_TAGS</a>;</td></tr>
<tr><th id="478">478</th><td>		<b>else</b></td></tr>
<tr><th id="479">479</th><td>			*<a class="local col9 ref" href="#69flags" title='flags' data-ref="69flags">flags</a> &amp;= ~<a class="macro" href="../transport.h.html#144" title="(1&lt;&lt;10)" data-ref="_M/TRANSPORT_PUSH_FOLLOW_TAGS">TRANSPORT_PUSH_FOLLOW_TAGS</a>;</td></tr>
<tr><th id="480">480</th><td>		<b>return</b> <var>0</var>;</td></tr>
<tr><th id="481">481</th><td>	} <b>else</b> <b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (k) &amp;&amp; __builtin_constant_p (&quot;push.gpgsign&quot;) &amp;&amp; (__s1_len = __builtin_strlen (k), __s2_len = __builtin_strlen (&quot;push.gpgsign&quot;), (!((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;push.gpgsign&quot;) + 1) - (size_t)(const void *)(&quot;push.gpgsign&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (k, &quot;push.gpgsign&quot;) : (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) &amp;&amp; (__s1_len = __builtin_strlen (k), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;push.gpgsign&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.gpgsign&quot;) + 1) - (size_t)(const void *)(&quot;push.gpgsign&quot;) == 1) ? __builtin_strcmp (k, &quot;push.gpgsign&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;push.gpgsign&quot;); int __result = (((const unsigned char *) (const char *) (k))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (k))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;push.gpgsign&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.gpgsign&quot;) + 1) - (size_t)(const void *)(&quot;push.gpgsign&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;push.gpgsign&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) ? __builtin_strcmp (k, &quot;push.gpgsign&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (k); int __result = (((const unsigned char *) (const char *) (&quot;push.gpgsign&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.gpgsign&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.gpgsign&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;push.gpgsign&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (k, &quot;push.gpgsign&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <q>"push.gpgsign"</q>)) {</td></tr>
<tr><th id="482">482</th><td>		<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="71value" title='value' data-type='const char *' data-ref="71value">value</dfn>;</td></tr>
<tr><th id="483">483</th><td>		<b>if</b> (!<a class="ref" href="../config.h.html#git_config_get_value" title='git_config_get_value' data-ref="git_config_get_value">git_config_get_value</a>(<q>"push.gpgsign"</q>, &amp;<a class="local col1 ref" href="#71value" title='value' data-ref="71value">value</a>)) {</td></tr>
<tr><th id="484">484</th><td>			<b>switch</b> (<a class="ref" href="../config.h.html#git_parse_maybe_bool" title='git_parse_maybe_bool' data-ref="git_parse_maybe_bool">git_parse_maybe_bool</a>(<a class="local col1 ref" href="#71value" title='value' data-ref="71value">value</a>)) {</td></tr>
<tr><th id="485">485</th><td>			<b>case</b> <var>0</var>:</td></tr>
<tr><th id="486">486</th><td>				<a class="tu ref" href="#set_push_cert_flags" title='set_push_cert_flags' data-use='c' data-ref="set_push_cert_flags">set_push_cert_flags</a>(<a class="local col9 ref" href="#69flags" title='flags' data-ref="69flags">flags</a>, <a class="macro" href="../send-pack.h.html#7" title="0" data-ref="_M/SEND_PACK_PUSH_CERT_NEVER">SEND_PACK_PUSH_CERT_NEVER</a>);</td></tr>
<tr><th id="487">487</th><td>				<b>break</b>;</td></tr>
<tr><th id="488">488</th><td>			<b>case</b> <var>1</var>:</td></tr>
<tr><th id="489">489</th><td>				<a class="tu ref" href="#set_push_cert_flags" title='set_push_cert_flags' data-use='c' data-ref="set_push_cert_flags">set_push_cert_flags</a>(<a class="local col9 ref" href="#69flags" title='flags' data-ref="69flags">flags</a>, <a class="macro" href="../send-pack.h.html#9" title="2" data-ref="_M/SEND_PACK_PUSH_CERT_ALWAYS">SEND_PACK_PUSH_CERT_ALWAYS</a>);</td></tr>
<tr><th id="490">490</th><td>				<b>break</b>;</td></tr>
<tr><th id="491">491</th><td>			<b>default</b>:</td></tr>
<tr><th id="492">492</th><td>				<b>if</b> (<a class="local col1 ref" href="#71value" title='value' data-ref="71value">value</a> &amp;&amp; !<a class="ref" href="../../include/string.h.html#strcasecmp" title='strcasecmp' data-ref="strcasecmp">strcasecmp</a>(<a class="local col1 ref" href="#71value" title='value' data-ref="71value">value</a>, <q>"if-asked"</q>))</td></tr>
<tr><th id="493">493</th><td>					<a class="tu ref" href="#set_push_cert_flags" title='set_push_cert_flags' data-use='c' data-ref="set_push_cert_flags">set_push_cert_flags</a>(<a class="local col9 ref" href="#69flags" title='flags' data-ref="69flags">flags</a>, <a class="macro" href="../send-pack.h.html#8" title="1" data-ref="_M/SEND_PACK_PUSH_CERT_IF_ASKED">SEND_PACK_PUSH_CERT_IF_ASKED</a>);</td></tr>
<tr><th id="494">494</th><td>				<b>else</b></td></tr>
<tr><th id="495">495</th><td>					<b>return</b> <a class="macro" href="../git-compat-util.h.html#446" title="(error(&quot;Invalid value for &apos;%s&apos;&quot;, k), const_error())" data-ref="_M/error">error</a>(<q>"Invalid value for '%s'"</q>, <a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>);</td></tr>
<tr><th id="496">496</th><td>			}</td></tr>
<tr><th id="497">497</th><td>		}</td></tr>
<tr><th id="498">498</th><td>	} <b>else</b> <b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (k) &amp;&amp; __builtin_constant_p (&quot;push.recursesubmodules&quot;) &amp;&amp; (__s1_len = __builtin_strlen (k), __s2_len = __builtin_strlen (&quot;push.recursesubmodules&quot;), (!((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;push.recursesubmodules&quot;) + 1) - (size_t)(const void *)(&quot;push.recursesubmodules&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (k, &quot;push.recursesubmodules&quot;) : (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) &amp;&amp; (__s1_len = __builtin_strlen (k), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;push.recursesubmodules&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.recursesubmodules&quot;) + 1) - (size_t)(const void *)(&quot;push.recursesubmodules&quot;) == 1) ? __builtin_strcmp (k, &quot;push.recursesubmodules&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;push.recursesubmodules&quot;); int __result = (((const unsigned char *) (const char *) (k))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (k))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;push.recursesubmodules&quot;) &amp;&amp; ((size_t)(const void *)((&quot;push.recursesubmodules&quot;) + 1) - (size_t)(const void *)(&quot;push.recursesubmodules&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;push.recursesubmodules&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) ? __builtin_strcmp (k, &quot;push.recursesubmodules&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (k); int __result = (((const unsigned char *) (const char *) (&quot;push.recursesubmodules&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.recursesubmodules&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;push.recursesubmodules&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;push.recursesubmodules&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (k, &quot;push.recursesubmodules&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <q>"push.recursesubmodules"</q>)) {</td></tr>
<tr><th id="499">499</th><td>		<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="72value" title='value' data-type='const char *' data-ref="72value">value</dfn>;</td></tr>
<tr><th id="500">500</th><td>		<b>if</b> (!<a class="ref" href="../config.h.html#git_config_get_value" title='git_config_get_value' data-ref="git_config_get_value">git_config_get_value</a>(<q>"push.recursesubmodules"</q>, &amp;<a class="local col2 ref" href="#72value" title='value' data-ref="72value">value</a>))</td></tr>
<tr><th id="501">501</th><td>			<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='w' data-ref="recurse_submodules">recurse_submodules</a> = <a class="ref" href="../submodule-config.h.html#parse_push_recurse_submodules_arg" title='parse_push_recurse_submodules_arg' data-ref="parse_push_recurse_submodules_arg">parse_push_recurse_submodules_arg</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <a class="local col2 ref" href="#72value" title='value' data-ref="72value">value</a>);</td></tr>
<tr><th id="502">502</th><td>	} <b>else</b> <b>if</b> (!<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (k) &amp;&amp; __builtin_constant_p (&quot;submodule.recurse&quot;) &amp;&amp; (__s1_len = __builtin_strlen (k), __s2_len = __builtin_strlen (&quot;submodule.recurse&quot;), (!((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((&quot;submodule.recurse&quot;) + 1) - (size_t)(const void *)(&quot;submodule.recurse&quot;) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (k, &quot;submodule.recurse&quot;) : (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) &amp;&amp; (__s1_len = __builtin_strlen (k), __s1_len &lt; 4) ? (__builtin_constant_p (&quot;submodule.recurse&quot;) &amp;&amp; ((size_t)(const void *)((&quot;submodule.recurse&quot;) + 1) - (size_t)(const void *)(&quot;submodule.recurse&quot;) == 1) ? __builtin_strcmp (k, &quot;submodule.recurse&quot;) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (&quot;submodule.recurse&quot;); int __result = (((const unsigned char *) (const char *) (k))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (k))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (k))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (&quot;submodule.recurse&quot;) &amp;&amp; ((size_t)(const void *)((&quot;submodule.recurse&quot;) + 1) - (size_t)(const void *)(&quot;submodule.recurse&quot;) == 1) &amp;&amp; (__s2_len = __builtin_strlen (&quot;submodule.recurse&quot;), __s2_len &lt; 4) ? (__builtin_constant_p (k) &amp;&amp; ((size_t)(const void *)((k) + 1) - (size_t)(const void *)(k) == 1) ? __builtin_strcmp (k, &quot;submodule.recurse&quot;) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (k); int __result = (((const unsigned char *) (const char *) (&quot;submodule.recurse&quot;))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;submodule.recurse&quot;))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (&quot;submodule.recurse&quot;))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (&quot;submodule.recurse&quot;))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (k, &quot;submodule.recurse&quot;)))); })" data-ref="_M/strcmp">strcmp</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <q>"submodule.recurse"</q>)) {</td></tr>
<tr><th id="503">503</th><td>		<em>int</em> <dfn class="local col3 decl" id="73val" title='val' data-type='int' data-ref="73val">val</dfn> = <a class="ref" href="../config.h.html#git_config_bool" title='git_config_bool' data-ref="git_config_bool">git_config_bool</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <a class="local col7 ref" href="#67v" title='v' data-ref="67v">v</a>) ?</td></tr>
<tr><th id="504">504</th><td>			<a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_ON_DEMAND" title='RECURSE_SUBMODULES_ON_DEMAND' data-ref="RECURSE_SUBMODULES_ON_DEMAND">RECURSE_SUBMODULES_ON_DEMAND</a> : <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_OFF" title='RECURSE_SUBMODULES_OFF' data-ref="RECURSE_SUBMODULES_OFF">RECURSE_SUBMODULES_OFF</a>;</td></tr>
<tr><th id="505">505</th><td>		<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='w' data-ref="recurse_submodules">recurse_submodules</a> = <a class="local col3 ref" href="#73val" title='val' data-ref="73val">val</a>;</td></tr>
<tr><th id="506">506</th><td>	}</td></tr>
<tr><th id="507">507</th><td></td></tr>
<tr><th id="508">508</th><td>	<b>return</b> <a class="ref" href="../config.h.html#git_default_config" title='git_default_config' data-ref="git_default_config">git_default_config</a>(<a class="local col6 ref" href="#66k" title='k' data-ref="66k">k</a>, <a class="local col7 ref" href="#67v" title='v' data-ref="67v">v</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="509">509</th><td>}</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td><em>int</em> <dfn class="decl def" id="cmd_push" title='cmd_push' data-ref="cmd_push">cmd_push</dfn>(<em>int</em> <dfn class="local col4 decl" id="74argc" title='argc' data-type='int' data-ref="74argc">argc</dfn>, <em>const</em> <em>char</em> **<dfn class="local col5 decl" id="75argv" title='argv' data-type='const char **' data-ref="75argv">argv</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="76prefix" title='prefix' data-type='const char *' data-ref="76prefix">prefix</dfn>)</td></tr>
<tr><th id="512">512</th><td>{</td></tr>
<tr><th id="513">513</th><td>	<em>int</em> <dfn class="local col7 decl" id="77flags" title='flags' data-type='int' data-ref="77flags">flags</dfn> = <var>0</var>;</td></tr>
<tr><th id="514">514</th><td>	<em>int</em> <dfn class="local col8 decl" id="78tags" title='tags' data-type='int' data-ref="78tags">tags</dfn> = <var>0</var>;</td></tr>
<tr><th id="515">515</th><td>	<em>int</em> <dfn class="local col9 decl" id="79push_cert" title='push_cert' data-type='int' data-ref="79push_cert">push_cert</dfn> = -<var>1</var>;</td></tr>
<tr><th id="516">516</th><td>	<em>int</em> <dfn class="local col0 decl" id="80rc" title='rc' data-type='int' data-ref="80rc">rc</dfn>;</td></tr>
<tr><th id="517">517</th><td>	<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="81repo" title='repo' data-type='const char *' data-ref="81repo">repo</dfn> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;	<i>/* default repository */</i></td></tr>
<tr><th id="518">518</th><td>	<b>struct</b> <a class="type" href="../string-list.h.html#string_list" title='string_list' data-ref="string_list">string_list</a> <dfn class="local col2 decl" id="82push_options" title='push_options' data-type='struct string_list' data-ref="82push_options">push_options</dfn> = <a class="macro" href="../string-list.h.html#19" title="{ ((void*)0), 0, 0, 1, ((void*)0) }" data-ref="_M/STRING_LIST_INIT_DUP">STRING_LIST_INIT_DUP</a>;</td></tr>
<tr><th id="519">519</th><td>	<em>const</em> <b>struct</b> <a class="type" href="../string-list.h.html#string_list_item" title='string_list_item' data-ref="string_list_item">string_list_item</a> *<dfn class="local col3 decl" id="83item" title='item' data-type='const struct string_list_item *' data-ref="83item">item</dfn>;</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>	<b>struct</b> <a class="type" href="../parse-options.h.html#option" title='option' data-ref="option">option</a> <dfn class="local col4 decl" id="84options" title='options' data-type='struct option [26]' data-ref="84options">options</dfn>[] = {</td></tr>
<tr><th id="522">522</th><td>		<a class="macro" href="../parse-options.h.html#237" title="{ OPTION_CALLBACK, &apos;v&apos;, &quot;verbose&quot;, (&amp;verbosity), ((void*)0), (&quot;be more verbose&quot;), PARSE_OPT_NOARG, &amp;parse_opt_verbosity_cb, 0 }, { OPTION_CALLBACK, &apos;q&apos;, &quot;quiet&quot;, (&amp;verbosity), ((void*)0), (&quot;be more quiet&quot;), PARSE_OPT_NOARG, &amp;parse_opt_verbosity_cb, 0 }" data-ref="_M/OPT__VERBOSITY">OPT__VERBOSITY</a>(&amp;<a class="tu ref" href="#verbosity" title='verbosity' data-use='a' data-ref="verbosity">verbosity</a>),</td></tr>
<tr><th id="523">523</th><td>		<a class="macro" href="../parse-options.h.html#135" title="{ OPTION_STRING, (0), (&quot;repo&quot;), (&amp;repo), ((&quot;repository&quot;)), ((&quot;repository&quot;)) }" data-ref="_M/OPT_STRING">OPT_STRING</a>( <var>0</var> , <q>"repo"</q>, &amp;<a class="local col1 ref" href="#81repo" title='repo' data-ref="81repo">repo</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;repository&quot;)" data-ref="_M/N_">N_</a>(<q>"repository"</q>), <a class="macro" href="../gettext.h.html#89" title="(&quot;repository&quot;)" data-ref="_M/N_">N_</a>(<q>"repository"</q>)),</td></tr>
<tr><th id="524">524</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;all&quot;), (&amp;flags), ((void*)0), ((&quot;push all refs&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;0)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>( <var>0</var> , <q>"all"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;push all refs&quot;)" data-ref="_M/N_">N_</a>(<q>"push all refs"</q>), <a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a>),</td></tr>
<tr><th id="525">525</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;mirror&quot;), (&amp;flags), ((void*)0), ((&quot;mirror all refs&quot;)), PARSE_OPT_NOARG, ((void*)0), (((1&lt;&lt;3)|(1&lt;&lt;1))) }" data-ref="_M/OPT_BIT">OPT_BIT</a>( <var>0</var> , <q>"mirror"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;mirror all refs&quot;)" data-ref="_M/N_">N_</a>(<q>"mirror all refs"</q>),</td></tr>
<tr><th id="526">526</th><td>			    (<a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>|<a class="macro" href="../transport.h.html#135" title="(1&lt;&lt;1)" data-ref="_M/TRANSPORT_PUSH_FORCE">TRANSPORT_PUSH_FORCE</a>)),</td></tr>
<tr><th id="527">527</th><td>		<a class="macro" href="../parse-options.h.html#127" title="{ OPTION_SET_INT, (&apos;d&apos;), (&quot;delete&quot;), (&amp;deleterefs), ((void*)0), ((&quot;delete refs&quot;)), PARSE_OPT_NOARG, ((void*)0), (1) }" data-ref="_M/OPT_BOOL">OPT_BOOL</a>(<kbd>'d'</kbd>, <q>"delete"</q>, &amp;<a class="tu ref" href="#deleterefs" title='deleterefs' data-use='a' data-ref="deleterefs">deleterefs</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;delete refs&quot;)" data-ref="_M/N_">N_</a>(<q>"delete refs"</q>)),</td></tr>
<tr><th id="528">528</th><td>		<a class="macro" href="../parse-options.h.html#127" title="{ OPTION_SET_INT, (0), (&quot;tags&quot;), (&amp;tags), ((void*)0), ((&quot;push tags (can&apos;t be used with --all or --mirror)&quot;)), PARSE_OPT_NOARG, ((void*)0), (1) }" data-ref="_M/OPT_BOOL">OPT_BOOL</a>( <var>0</var> , <q>"tags"</q>, &amp;<a class="local col8 ref" href="#78tags" title='tags' data-ref="78tags">tags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;push tags (can&apos;t be used with --all or --mirror)&quot;)" data-ref="_M/N_">N_</a>(<q>"push tags (can't be used with --all or --mirror)"</q>)),</td></tr>
<tr><th id="529">529</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (&apos;n&apos;), (&quot;dry-run&quot;), (&amp;flags), ((void*)0), ((&quot;dry run&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;2)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<kbd>'n'</kbd> , <q>"dry-run"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;dry run&quot;)" data-ref="_M/N_">N_</a>(<q>"dry run"</q>), <a class="macro" href="../transport.h.html#136" title="(1&lt;&lt;2)" data-ref="_M/TRANSPORT_PUSH_DRY_RUN">TRANSPORT_PUSH_DRY_RUN</a>),</td></tr>
<tr><th id="530">530</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;porcelain&quot;), (&amp;flags), ((void*)0), ((&quot;machine-readable output&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;4)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>( <var>0</var>,  <q>"porcelain"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;machine-readable output&quot;)" data-ref="_M/N_">N_</a>(<q>"machine-readable output"</q>), <a class="macro" href="../transport.h.html#138" title="(1&lt;&lt;4)" data-ref="_M/TRANSPORT_PUSH_PORCELAIN">TRANSPORT_PUSH_PORCELAIN</a>),</td></tr>
<tr><th id="531">531</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (&apos;f&apos;), (&quot;force&quot;), (&amp;flags), ((void*)0), ((&quot;force updates&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;1)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<kbd>'f'</kbd>, <q>"force"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;force updates&quot;)" data-ref="_M/N_">N_</a>(<q>"force updates"</q>), <a class="macro" href="../transport.h.html#135" title="(1&lt;&lt;1)" data-ref="_M/TRANSPORT_PUSH_FORCE">TRANSPORT_PUSH_FORCE</a>),</td></tr>
<tr><th id="532">532</th><td>		{ <a class="enum" href="../parse-options.h.html#parse_opt_type::OPTION_CALLBACK" title='parse_opt_type::OPTION_CALLBACK' data-ref="parse_opt_type::OPTION_CALLBACK">OPTION_CALLBACK</a>,</td></tr>
<tr><th id="533">533</th><td>		  <var>0</var>, <a class="macro" href="../remote.h.html#280" title="&quot;force-with-lease&quot;" data-ref="_M/CAS_OPT_NAME">CAS_OPT_NAME</a>, &amp;<a class="tu ref" href="#cas" title='cas' data-use='a' data-ref="cas">cas</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;refname&gt;:&lt;expect&quot;)" data-ref="_M/N_">N_</a>(<q>"refname&gt;:&lt;expect"</q>),</td></tr>
<tr><th id="534">534</th><td>		  <a class="macro" href="../gettext.h.html#89" title="(&quot;require old value of ref to be at this value&quot;)" data-ref="_M/N_">N_</a>(<q>"require old value of ref to be at this value"</q>),</td></tr>
<tr><th id="535">535</th><td>		  <a class="enum" href="../parse-options.h.html#parse_opt_option_flags::PARSE_OPT_OPTARG" title='parse_opt_option_flags::PARSE_OPT_OPTARG' data-ref="parse_opt_option_flags::PARSE_OPT_OPTARG">PARSE_OPT_OPTARG</a>, <a class="ref" href="../remote.h.html#parseopt_push_cas_option" title='parseopt_push_cas_option' data-ref="parseopt_push_cas_option">parseopt_push_cas_option</a> },</td></tr>
<tr><th id="536">536</th><td>		{ <a class="enum" href="../parse-options.h.html#parse_opt_type::OPTION_CALLBACK" title='parse_opt_type::OPTION_CALLBACK' data-ref="parse_opt_type::OPTION_CALLBACK">OPTION_CALLBACK</a>, <var>0</var>, <q>"recurse-submodules"</q>, &amp;<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='a' data-ref="recurse_submodules">recurse_submodules</a>, <q>"check|on-demand|no"</q>,</td></tr>
<tr><th id="537">537</th><td>			<a class="macro" href="../gettext.h.html#89" title="(&quot;control recursive pushing of submodules&quot;)" data-ref="_M/N_">N_</a>(<q>"control recursive pushing of submodules"</q>),</td></tr>
<tr><th id="538">538</th><td>			<a class="enum" href="../parse-options.h.html#parse_opt_option_flags::PARSE_OPT_OPTARG" title='parse_opt_option_flags::PARSE_OPT_OPTARG' data-ref="parse_opt_option_flags::PARSE_OPT_OPTARG">PARSE_OPT_OPTARG</a>, <a class="tu ref" href="#option_parse_recurse_submodules" title='option_parse_recurse_submodules' data-use='r' data-ref="option_parse_recurse_submodules">option_parse_recurse_submodules</a> },</td></tr>
<tr><th id="539">539</th><td>		<a class="macro" href="../parse-options.h.html#127" title="{ OPTION_SET_INT, (0), (&quot;thin&quot;), (&amp;thin), ((void*)0), ((&quot;use thin pack&quot;)), PARSE_OPT_NOARG, ((void*)0), (1) }" data-ref="_M/OPT_BOOL">OPT_BOOL</a>( <var>0</var> , <q>"thin"</q>, &amp;<a class="tu ref" href="#thin" title='thin' data-use='a' data-ref="thin">thin</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;use thin pack&quot;)" data-ref="_M/N_">N_</a>(<q>"use thin pack"</q>)),</td></tr>
<tr><th id="540">540</th><td>		<a class="macro" href="../parse-options.h.html#135" title="{ OPTION_STRING, (0), (&quot;receive-pack&quot;), (&amp;receivepack), (&quot;receive-pack&quot;), ((&quot;receive pack program&quot;)) }" data-ref="_M/OPT_STRING">OPT_STRING</a>( <var>0</var> , <q>"receive-pack"</q>, &amp;<a class="tu ref" href="#receivepack" title='receivepack' data-use='a' data-ref="receivepack">receivepack</a>, <q>"receive-pack"</q>, <a class="macro" href="../gettext.h.html#89" title="(&quot;receive pack program&quot;)" data-ref="_M/N_">N_</a>(<q>"receive pack program"</q>)),</td></tr>
<tr><th id="541">541</th><td>		<a class="macro" href="../parse-options.h.html#135" title="{ OPTION_STRING, (0), (&quot;exec&quot;), (&amp;receivepack), (&quot;receive-pack&quot;), ((&quot;receive pack program&quot;)) }" data-ref="_M/OPT_STRING">OPT_STRING</a>( <var>0</var> , <q>"exec"</q>, &amp;<a class="tu ref" href="#receivepack" title='receivepack' data-use='a' data-ref="receivepack">receivepack</a>, <q>"receive-pack"</q>, <a class="macro" href="../gettext.h.html#89" title="(&quot;receive pack program&quot;)" data-ref="_M/N_">N_</a>(<q>"receive pack program"</q>)),</td></tr>
<tr><th id="542">542</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (&apos;u&apos;), (&quot;set-upstream&quot;), (&amp;flags), ((void*)0), ((&quot;set upstream for git pull/status&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;5)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<kbd>'u'</kbd>, <q>"set-upstream"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;set upstream for git pull/status&quot;)" data-ref="_M/N_">N_</a>(<q>"set upstream for git pull/status"</q>),</td></tr>
<tr><th id="543">543</th><td>			<a class="macro" href="../transport.h.html#139" title="(1&lt;&lt;5)" data-ref="_M/TRANSPORT_PUSH_SET_UPSTREAM">TRANSPORT_PUSH_SET_UPSTREAM</a>),</td></tr>
<tr><th id="544">544</th><td>		<a class="macro" href="../parse-options.h.html#127" title="{ OPTION_SET_INT, (0), (&quot;progress&quot;), (&amp;progress), ((void*)0), ((&quot;force progress reporting&quot;)), PARSE_OPT_NOARG, ((void*)0), (1) }" data-ref="_M/OPT_BOOL">OPT_BOOL</a>(<var>0</var>, <q>"progress"</q>, &amp;<a class="tu ref" href="#progress" title='progress' data-use='a' data-ref="progress">progress</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;force progress reporting&quot;)" data-ref="_M/N_">N_</a>(<q>"force progress reporting"</q>)),</td></tr>
<tr><th id="545">545</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;prune&quot;), (&amp;flags), ((void*)0), ((&quot;prune locally removed refs&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;7)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<var>0</var>, <q>"prune"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;prune locally removed refs&quot;)" data-ref="_M/N_">N_</a>(<q>"prune locally removed refs"</q>),</td></tr>
<tr><th id="546">546</th><td>			<a class="macro" href="../transport.h.html#141" title="(1&lt;&lt;7)" data-ref="_M/TRANSPORT_PUSH_PRUNE">TRANSPORT_PUSH_PRUNE</a>),</td></tr>
<tr><th id="547">547</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;no-verify&quot;), (&amp;flags), ((void*)0), ((&quot;bypass pre-push hook&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;9)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<var>0</var>, <q>"no-verify"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;bypass pre-push hook&quot;)" data-ref="_M/N_">N_</a>(<q>"bypass pre-push hook"</q>), <a class="macro" href="../transport.h.html#143" title="(1&lt;&lt;9)" data-ref="_M/TRANSPORT_PUSH_NO_HOOK">TRANSPORT_PUSH_NO_HOOK</a>),</td></tr>
<tr><th id="548">548</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;follow-tags&quot;), (&amp;flags), ((void*)0), ((&quot;push missing but relevant tags&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;10)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<var>0</var>, <q>"follow-tags"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;push missing but relevant tags&quot;)" data-ref="_M/N_">N_</a>(<q>"push missing but relevant tags"</q>),</td></tr>
<tr><th id="549">549</th><td>			<a class="macro" href="../transport.h.html#144" title="(1&lt;&lt;10)" data-ref="_M/TRANSPORT_PUSH_FOLLOW_TAGS">TRANSPORT_PUSH_FOLLOW_TAGS</a>),</td></tr>
<tr><th id="550">550</th><td>		{ <a class="enum" href="../parse-options.h.html#parse_opt_type::OPTION_CALLBACK" title='parse_opt_type::OPTION_CALLBACK' data-ref="parse_opt_type::OPTION_CALLBACK">OPTION_CALLBACK</a>,</td></tr>
<tr><th id="551">551</th><td>		  <var>0</var>, <q>"signed"</q>, &amp;<a class="local col9 ref" href="#79push_cert" title='push_cert' data-ref="79push_cert">push_cert</a>, <q>"yes|no|if-asked"</q>, <a class="macro" href="../gettext.h.html#89" title="(&quot;GPG sign the push&quot;)" data-ref="_M/N_">N_</a>(<q>"GPG sign the push"</q>),</td></tr>
<tr><th id="552">552</th><td>		  <a class="enum" href="../parse-options.h.html#parse_opt_option_flags::PARSE_OPT_OPTARG" title='parse_opt_option_flags::PARSE_OPT_OPTARG' data-ref="parse_opt_option_flags::PARSE_OPT_OPTARG">PARSE_OPT_OPTARG</a>, <a class="ref" href="../send-pack.h.html#option_parse_push_signed" title='option_parse_push_signed' data-ref="option_parse_push_signed">option_parse_push_signed</a> },</td></tr>
<tr><th id="553">553</th><td>		<a class="macro" href="../parse-options.h.html#119" title="{ OPTION_BIT, (0), (&quot;atomic&quot;), (&amp;flags), ((void*)0), ((&quot;request atomic transaction on remote side&quot;)), PARSE_OPT_NOARG, ((void*)0), ((1&lt;&lt;13)) }" data-ref="_M/OPT_BIT">OPT_BIT</a>(<var>0</var>, <q>"atomic"</q>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;request atomic transaction on remote side&quot;)" data-ref="_M/N_">N_</a>(<q>"request atomic transaction on remote side"</q>), <a class="macro" href="../transport.h.html#147" title="(1&lt;&lt;13)" data-ref="_M/TRANSPORT_PUSH_ATOMIC">TRANSPORT_PUSH_ATOMIC</a>),</td></tr>
<tr><th id="554">554</th><td>		<a class="macro" href="../parse-options.h.html#136" title="{ OPTION_CALLBACK, (&apos;o&apos;), (&quot;push-option&quot;), (&amp;push_options), ((&quot;server-specific&quot;)), ((&quot;option to transmit&quot;)), 0, &amp;parse_opt_string_list }" data-ref="_M/OPT_STRING_LIST">OPT_STRING_LIST</a>(<kbd>'o'</kbd>, <q>"push-option"</q>, &amp;<a class="local col2 ref" href="#82push_options" title='push_options' data-ref="82push_options">push_options</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;server-specific&quot;)" data-ref="_M/N_">N_</a>(<q>"server-specific"</q>), <a class="macro" href="../gettext.h.html#89" title="(&quot;option to transmit&quot;)" data-ref="_M/N_">N_</a>(<q>"option to transmit"</q>)),</td></tr>
<tr><th id="555">555</th><td>		<a class="macro" href="../parse-options.h.html#125" title="{ OPTION_SET_INT, (&apos;4&apos;), (&quot;ipv4&quot;), (&amp;family), ((void*)0), ((&quot;use IPv4 addresses only&quot;)), PARSE_OPT_NOARG, ((void*)0), (TRANSPORT_FAMILY_IPV4) }" data-ref="_M/OPT_SET_INT">OPT_SET_INT</a>(<kbd>'4'</kbd>, <q>"ipv4"</q>, &amp;<a class="tu ref" href="#family" title='family' data-use='a' data-ref="family">family</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;use IPv4 addresses only&quot;)" data-ref="_M/N_">N_</a>(<q>"use IPv4 addresses only"</q>),</td></tr>
<tr><th id="556">556</th><td>				<a class="enum" href="../transport.h.html#transport_family::TRANSPORT_FAMILY_IPV4" title='transport_family::TRANSPORT_FAMILY_IPV4' data-ref="transport_family::TRANSPORT_FAMILY_IPV4">TRANSPORT_FAMILY_IPV4</a>),</td></tr>
<tr><th id="557">557</th><td>		<a class="macro" href="../parse-options.h.html#125" title="{ OPTION_SET_INT, (&apos;6&apos;), (&quot;ipv6&quot;), (&amp;family), ((void*)0), ((&quot;use IPv6 addresses only&quot;)), PARSE_OPT_NOARG, ((void*)0), (TRANSPORT_FAMILY_IPV6) }" data-ref="_M/OPT_SET_INT">OPT_SET_INT</a>(<kbd>'6'</kbd>, <q>"ipv6"</q>, &amp;<a class="tu ref" href="#family" title='family' data-use='a' data-ref="family">family</a>, <a class="macro" href="../gettext.h.html#89" title="(&quot;use IPv6 addresses only&quot;)" data-ref="_M/N_">N_</a>(<q>"use IPv6 addresses only"</q>),</td></tr>
<tr><th id="558">558</th><td>				<a class="enum" href="../transport.h.html#transport_family::TRANSPORT_FAMILY_IPV6" title='transport_family::TRANSPORT_FAMILY_IPV6' data-ref="transport_family::TRANSPORT_FAMILY_IPV6">TRANSPORT_FAMILY_IPV6</a>),</td></tr>
<tr><th id="559">559</th><td>		<a class="macro" href="../parse-options.h.html#115" title="{ OPTION_END }" data-ref="_M/OPT_END">OPT_END</a>()</td></tr>
<tr><th id="560">560</th><td>	};</td></tr>
<tr><th id="561">561</th><td></td></tr>
<tr><th id="562">562</th><td>	<a class="ref" href="../cache.h.html#packet_trace_identity" title='packet_trace_identity' data-ref="packet_trace_identity">packet_trace_identity</a>(<q>"push"</q>);</td></tr>
<tr><th id="563">563</th><td>	<a class="ref" href="../config.h.html#git_config" title='git_config' data-ref="git_config">git_config</a>(<a class="tu ref" href="#git_push_config" title='git_push_config' data-use='r' data-ref="git_push_config">git_push_config</a>, &amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>);</td></tr>
<tr><th id="564">564</th><td>	<a class="local col4 ref" href="#74argc" title='argc' data-ref="74argc">argc</a> = <a class="ref" href="../parse-options.h.html#parse_options" title='parse_options' data-ref="parse_options">parse_options</a>(<a class="local col4 ref" href="#74argc" title='argc' data-ref="74argc">argc</a>, <a class="local col5 ref" href="#75argv" title='argv' data-ref="75argv">argv</a>, <a class="local col6 ref" href="#76prefix" title='prefix' data-ref="76prefix">prefix</a>, <a class="local col4 ref" href="#84options" title='options' data-ref="84options">options</a>, <a class="tu ref" href="#push_usage" title='push_usage' data-use='r' data-ref="push_usage">push_usage</a>, <var>0</var>);</td></tr>
<tr><th id="565">565</th><td>	<a class="tu ref" href="#set_push_cert_flags" title='set_push_cert_flags' data-use='c' data-ref="set_push_cert_flags">set_push_cert_flags</a>(&amp;<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, <a class="local col9 ref" href="#79push_cert" title='push_cert' data-ref="79push_cert">push_cert</a>);</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td>	<b>if</b> (<a class="tu ref" href="#deleterefs" title='deleterefs' data-use='r' data-ref="deleterefs">deleterefs</a> &amp;&amp; (<a class="local col8 ref" href="#78tags" title='tags' data-ref="78tags">tags</a> || (<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a> &amp; (<a class="macro" href="../transport.h.html#134" title="(1&lt;&lt;0)" data-ref="_M/TRANSPORT_PUSH_ALL">TRANSPORT_PUSH_ALL</a> | <a class="macro" href="../transport.h.html#137" title="(1&lt;&lt;3)" data-ref="_M/TRANSPORT_PUSH_MIRROR">TRANSPORT_PUSH_MIRROR</a>))))</td></tr>
<tr><th id="568">568</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--delete is incompatible with --all, --mirror and --tags"</q>));</td></tr>
<tr><th id="569">569</th><td>	<b>if</b> (<a class="tu ref" href="#deleterefs" title='deleterefs' data-use='r' data-ref="deleterefs">deleterefs</a> &amp;&amp; <a class="local col4 ref" href="#74argc" title='argc' data-ref="74argc">argc</a> &lt; <var>2</var>)</td></tr>
<tr><th id="570">570</th><td>		<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"--delete doesn't make sense without any refs"</q>));</td></tr>
<tr><th id="571">571</th><td></td></tr>
<tr><th id="572">572</th><td>	<b>if</b> (<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='r' data-ref="recurse_submodules">recurse_submodules</a> == <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_CHECK" title='RECURSE_SUBMODULES_CHECK' data-ref="RECURSE_SUBMODULES_CHECK">RECURSE_SUBMODULES_CHECK</a>)</td></tr>
<tr><th id="573">573</th><td>		<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a> |= <a class="macro" href="../transport.h.html#140" title="(1&lt;&lt;6)" data-ref="_M/TRANSPORT_RECURSE_SUBMODULES_CHECK">TRANSPORT_RECURSE_SUBMODULES_CHECK</a>;</td></tr>
<tr><th id="574">574</th><td>	<b>else</b> <b>if</b> (<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='r' data-ref="recurse_submodules">recurse_submodules</a> == <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_ON_DEMAND" title='RECURSE_SUBMODULES_ON_DEMAND' data-ref="RECURSE_SUBMODULES_ON_DEMAND">RECURSE_SUBMODULES_ON_DEMAND</a>)</td></tr>
<tr><th id="575">575</th><td>		<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a> |= <a class="macro" href="../transport.h.html#142" title="(1&lt;&lt;8)" data-ref="_M/TRANSPORT_RECURSE_SUBMODULES_ON_DEMAND">TRANSPORT_RECURSE_SUBMODULES_ON_DEMAND</a>;</td></tr>
<tr><th id="576">576</th><td>	<b>else</b> <b>if</b> (<a class="tu ref" href="#recurse_submodules" title='recurse_submodules' data-use='r' data-ref="recurse_submodules">recurse_submodules</a> == <a class="enum" href="../submodule.h.html#RECURSE_SUBMODULES_ONLY" title='RECURSE_SUBMODULES_ONLY' data-ref="RECURSE_SUBMODULES_ONLY">RECURSE_SUBMODULES_ONLY</a>)</td></tr>
<tr><th id="577">577</th><td>		<a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a> |= <a class="macro" href="../transport.h.html#149" title="(1&lt;&lt;15)" data-ref="_M/TRANSPORT_RECURSE_SUBMODULES_ONLY">TRANSPORT_RECURSE_SUBMODULES_ONLY</a>;</td></tr>
<tr><th id="578">578</th><td></td></tr>
<tr><th id="579">579</th><td>	<b>if</b> (<a class="local col8 ref" href="#78tags" title='tags' data-ref="78tags">tags</a>)</td></tr>
<tr><th id="580">580</th><td>		<a class="tu ref" href="#add_refspec" title='add_refspec' data-use='c' data-ref="add_refspec">add_refspec</a>(<q>"refs/tags/*"</q>);</td></tr>
<tr><th id="581">581</th><td></td></tr>
<tr><th id="582">582</th><td>	<b>if</b> (<a class="local col4 ref" href="#74argc" title='argc' data-ref="74argc">argc</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="583">583</th><td>		<a class="local col1 ref" href="#81repo" title='repo' data-ref="81repo">repo</a> = <a class="local col5 ref" href="#75argv" title='argv' data-ref="75argv">argv</a>[<var>0</var>];</td></tr>
<tr><th id="584">584</th><td>		<a class="tu ref" href="#set_refspecs" title='set_refspecs' data-use='c' data-ref="set_refspecs">set_refspecs</a>(<a class="local col5 ref" href="#75argv" title='argv' data-ref="75argv">argv</a> + <var>1</var>, <a class="local col4 ref" href="#74argc" title='argc' data-ref="74argc">argc</a> - <var>1</var>, <a class="local col1 ref" href="#81repo" title='repo' data-ref="81repo">repo</a>);</td></tr>
<tr><th id="585">585</th><td>	}</td></tr>
<tr><th id="586">586</th><td></td></tr>
<tr><th id="587">587</th><td>	<a class="macro" href="../string-list.h.html#35" title="for (item = (&amp;push_options)-&gt;items; item &lt; (&amp;push_options)-&gt;items + (&amp;push_options)-&gt;nr; ++item)" data-ref="_M/for_each_string_list_item">for_each_string_list_item</a>(<a class="local col3 ref" href="#83item" title='item' data-ref="83item">item</a>, &amp;<a class="local col2 ref" href="#82push_options" title='push_options' data-ref="82push_options">push_options</a>)</td></tr>
<tr><th id="588">588</th><td>		<b>if</b> (<a class="macro" href="../../include/x86_64-linux-gnu/bits/string2.h.html#395" title="(__extension__ (__builtin_constant_p (&apos;\n&apos;) &amp;&amp; !__builtin_constant_p (item-&gt;string) &amp;&amp; (&apos;\n&apos;) == &apos;\0&apos; ? (char *) __rawmemchr (item-&gt;string, &apos;\n&apos;) : __builtin_strchr (item-&gt;string, &apos;\n&apos;)))" data-ref="_M/strchr">strchr</a>(<a class="local col3 ref" href="#83item" title='item' data-ref="83item">item</a>-&gt;<a class="ref" href="../string-list.h.html#string_list_item::string" title='string_list_item::string' data-ref="string_list_item::string">string</a>, <kbd>'\n'</kbd>))</td></tr>
<tr><th id="589">589</th><td>			<a class="ref" href="../git-compat-util.h.html#die" title='die' data-ref="die">die</a>(<a class="ref" href="../gettext.h.html#_" title='_' data-ref="_">_</a>(<q>"push options must not have new line characters"</q>));</td></tr>
<tr><th id="590">590</th><td></td></tr>
<tr><th id="591">591</th><td>	<a class="local col0 ref" href="#80rc" title='rc' data-ref="80rc">rc</a> = <a class="tu ref" href="#do_push" title='do_push' data-use='c' data-ref="do_push">do_push</a>(<a class="local col1 ref" href="#81repo" title='repo' data-ref="81repo">repo</a>, <a class="local col7 ref" href="#77flags" title='flags' data-ref="77flags">flags</a>, &amp;<a class="local col2 ref" href="#82push_options" title='push_options' data-ref="82push_options">push_options</a>);</td></tr>
<tr><th id="592">592</th><td>	<a class="ref" href="../string-list.h.html#string_list_clear" title='string_list_clear' data-ref="string_list_clear">string_list_clear</a>(&amp;<a class="local col2 ref" href="#82push_options" title='push_options' data-ref="82push_options">push_options</a>, <var>0</var>);</td></tr>
<tr><th id="593">593</th><td>	<b>if</b> (<a class="local col0 ref" href="#80rc" title='rc' data-ref="80rc">rc</a> == -<var>1</var>)</td></tr>
<tr><th id="594">594</th><td>		<a class="ref" href="../parse-options.h.html#usage_with_options" title='usage_with_options' data-ref="usage_with_options">usage_with_options</a>(<a class="tu ref" href="#push_usage" title='push_usage' data-use='r' data-ref="push_usage">push_usage</a>, <a class="local col4 ref" href="#84options" title='options' data-ref="84options">options</a>);</td></tr>
<tr><th id="595">595</th><td>	<b>else</b></td></tr>
<tr><th id="596">596</th><td>		<b>return</b> <a class="local col0 ref" href="#80rc" title='rc' data-ref="80rc">rc</a>;</td></tr>
<tr><th id="597">597</th><td>}</td></tr>
<tr><th id="598">598</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2017-Aug-29</em> from project codebrowser revision <em>v2.14.1-326-g3dc57eb</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
